<!doctype html><html lang=zh-cn><head><meta name=generator content="Hugo 0.100.2"><meta charset=utf-8><meta name=viewport content="width=device-width,user-scalable=no,initial-scale=1,maximum-scale=1,minimum-scale=1"><meta http-equiv=x-ua-compatible content="ie=edge"><meta name=keywords content><meta name=description content><meta name=referrer content="no-referrer"><title>Fourleaf Blog</title><link rel="shortcut icon" href=https://zhujianghan.github.io/zjh-blog/favicon.ico type=image/x-icon><link rel=stylesheet href=https://zhujianghan.github.io/zjh-blog/css/index.css><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@docsearch/css@3><link rel=preconnect href=https://QB1NYV0GE1-dsn.algolia.net crossorigin><script src=https://zhujianghan.github.io/zjh-blog/js/theme.js></script>
<script defer src=https://unpkg.com/alpinejs@3.10.2/dist/cdn.min.js></script></head><body class="antialiased text-slate-900 dark:text-slate-400 bg-white dark:bg-slate-900"><div><div class="sticky top-0 z-40 w-full backdrop-blur flex-none transition-colors duration-500 lg:z-50 lg:border-b lg:border-slate-900/10 dark:border-slate-50/[0.06] bg-white dark:bg-slate-900" x-data="{
    hideNavs: true,

    hideMenuChildren: true,

    openThemesList: false,
    theme: localStorage.theme === 'dark' ? 'dark' : 'light',
    toggleTheme(t = 'light') {
      window.setTheme(t)
      this.theme = t
      this.openThemesList = false
    },

    openLanguagesList: false,
    toggleLanguage(t) {
      window.location.href = t
    },

    openSearch() {
      document.querySelector('#docsearch button').click()
    },
  }"><div class="container mx-auto px-2"><div class="py-4 border-b border-slate-900/10 dark:border-slate-300/10"><div class="relative flex items-center"><a class="mr-10 flex-none" href=/zjh-blog><div class="flex justify-between items-center"><span>🍀</span>
<span class="text-slate-900 dark:text-white">FourLeaf</span></div></a><div class="flex-auto relative hidden lg:flex justify-between items-center"><nav class="leading-6 font-bold text-slate-700 dark:text-slate-200"><ul class="flex space-x-8"><li><a class="hover:text-emerald-600 dark:hover:text-emerald-400" href=/zjh-blog/posts/frontend>前端</a></li><li><a class="hover:text-emerald-600 dark:hover:text-emerald-400" href=/zjh-blog/posts/backend>后端</a></li><li><a class="hover:text-emerald-600 dark:hover:text-emerald-400" href=/zjh-blog/posts/server>服务器</a></li><li><a class="hover:text-emerald-600 dark:hover:text-emerald-400" href=/zjh-blog/posts/interview>面试题</a></li><li><a class="hover:text-emerald-600 dark:hover:text-emerald-400" href=/zjh-blog/posts/other>其它</a></li><li><div class=relative @mouseover="hideMenuChildren = false" @mouseout="hideMenuChildren = true"><div class=cursor-pointer>projects</div><ul class="list-disc list-inside absolute w-64 bg-white" x-show=!hideMenuChildren><li class=py-1.5><a class="font-normal underline hover:text-emerald-600 dark:hover:text-emerald-400" href=https://zhujianghan.github.io/music-colorful-blocks>music-colorful-blocks</a></li><li class=py-1.5><a class="font-normal underline hover:text-emerald-600 dark:hover:text-emerald-400" href=https://zhujianghan.github.io/custom-excalidraw>custom-excalidraw</a></li><li class=py-1.5><a class="font-normal underline hover:text-emerald-600 dark:hover:text-emerald-400" href=https://zhujianghan.github.io/image-merger>image-merger</a></li></ul></div></li></ul></nav><div class="flex items-center space-x-5 border-slate-200 dark:border-slate-800"><div id=docsearch></div><div class=flex><button @click="openLanguagesList = true">
<span class="text-slate-700 dark:text-slate-200"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentcolor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M3 5h12M9 3v2m1.048 9.5A18.022 18.022.0 016.412 9m6.088 9h7M11 21l5-10 5 10M12.751 5C11.783 10.77 8.07 15.61 3 18.129"/></svg></span></button><ul class="absolute z-50 top-full right-0 bg-white rounded-lg ring-1 ring-slate-900/10 shadow-lg overflow-hidden w-36 py-1 text-sm text-slate-700 font-bold dark:bg-slate-800 dark:ring-0 dark:highlight-white/5 dark:text-slate-300 mt-8" x-show=openLanguagesList @click.outside="openLanguagesList = false"><li class='py-1 px-2 flex items-center cursor-pointer text-emerald-600 dark:text-emerald-400'><a href=https://zhujianghan.github.io/zjh-blog/ class="w-full font-bold uppercase">zh</a></li><li class='py-1 px-2 flex items-center cursor-pointer'><a href=https://zhujianghan.github.io/zjh-blog/en/ class="w-full font-bold uppercase">en</a></li></ul></div><div class=flex><button @click="openThemesList = true">
<span class="dark:hidden text-emerald-600"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentcolor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364-.707-.707M6.343 6.343l-.707-.707m12.728.0-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"/></svg></span><span class="hidden dark:inline text-emerald-400"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentcolor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003.0 0012 21a9.003 9.003.0 008.354-5.646z"/></svg></span></button><ul class="absolute z-50 top-full right-0 bg-white rounded-lg ring-1 ring-slate-900/10 shadow-lg overflow-hidden w-36 py-1 text-sm text-slate-700 font-bold dark:bg-slate-800 dark:ring-0 dark:highlight-white/5 dark:text-slate-300 mt-8" x-show=openThemesList @click.outside="openThemesList = false"><li class="py-1 px-2 flex items-center cursor-pointer" :class="{ 'text-emerald-600': theme === 'light'}" @click="toggleTheme('light')"><span class=mr-2><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentcolor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364-.707-.707M6.343 6.343l-.707-.707m12.728.0-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"/></svg></span>Light</li><li class="py-1 px-2 flex items-center cursor-pointer" :class="{ 'text-emerald-600': theme === 'dark'}" @click="toggleTheme('dark')"><span class=mr-2><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentcolor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003.0 0012 21a9.003 9.003.0 008.354-5.646z"/></svg></span>Dark</li></ul></div><div><a href=# class="block text-slate-400 hover:text-slate-500 dark:hover:text-slate-300"><svg viewBox="0 0 16 16" class="w-5 h-5" fill="currentcolor" aria-hidden="true"><path d="M8 0C3.58.0.0 3.58.0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38.0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95.0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12.0.0.67-.21 2.2.82.64-.18 1.32-.27 2-.27s1.36.09 2 .27c1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15.0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48.0 1.07-.01 1.93-.01 2.2.0.21.15.46.55.38A8.013 8.013.0 0016 8c0-4.42-3.58-8-8-8z"/></svg></a></div></div></div><button class="ml-auto text-slate-500 w-8 h-8 -my-1 flex items-center justify-center hover:text-slate-600 lg:hidden dark:text-slate-400 dark:hover:text-slate-300" @click=openSearch><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentcolor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M21 21l-6-6m2-5A7 7 0 113 10a7 7 0 0114 0z"/></svg></button><div class="ml-2 -my-1 lg:hidden"><button class="text-slate-500 w-8 h-8 flex items-center justify-center hover:text-slate-600 dark:text-slate-400 dark:hover:text-slate-300" @click="hideNavs = false"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentcolor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"/></svg></button></div></div></div></div><div class=lg:hidden x-show=!hideNavs @click.outside="hideNavs = true"><div class="fixed top-4 right-4 w-full max-w-xs bg-white rounded-lg shadow-lg p-6 text-base font-bold text-slate-900 dark:bg-slate-800 dark:text-slate-400 dark:highlight-white/5"><button class="absolute top-5 right-5 w-8 h-8 flex items-center justify-center text-slate-500 hover:text-slate-600 dark:text-slate-400 dark:hover:text-slate-300" @click="hideNavs = true"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentcolor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M6 18 18 6M6 6l12 12"/></svg></button><ul class=space-y-6><li><a class="hover:text-emerald-600 dark:hover:text-emerald-400" href=/zjh-blog/posts/frontend>前端</a></li><li><a class="hover:text-emerald-600 dark:hover:text-emerald-400" href=/zjh-blog/posts/backend>后端</a></li><li><a class="hover:text-emerald-600 dark:hover:text-emerald-400" href=/zjh-blog/posts/server>服务器</a></li><li><a class="hover:text-emerald-600 dark:hover:text-emerald-400" href=/zjh-blog/posts/interview>面试题</a></li><li><a class="hover:text-emerald-600 dark:hover:text-emerald-400" href=/zjh-blog/posts/other>其它</a></li><li><a class="hover:text-emerald-600 dark:hover:text-emerald-400" href=/zjh-blog/>projects</a></li><li><a class="hover:text-emerald-600 dark:hover:text-emerald-400" href=https://github.com/zhujianghan>Github</a></li></ul><div class="mt-3 pt-3 border-t border-slate-200 dark:border-slate-200/10"><div class="flex items-center justify-between"><div class="text-slate-700 font-normal dark:text-slate-400">Switch language</div><div class="relative flex items-center ring-1 ring-slate-900/10 rounded-lg shadow-sm p-2 text-slate-700 font-semibold dark:bg-slate-600 dark:ring-0 dark:highlight-white/5 dark:text-slate-200"><span class="w-6 h-6 mr-2"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentcolor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M3 5h12M9 3v2m1.048 9.5A18.022 18.022.0 016.412 9m6.088 9h7M11 21l5-10 5 10M12.751 5C11.783 10.77 8.07 15.61 3 18.129"/></svg></span><span class="w-10 text-slate-700 dark:text-slate-200 uppercase">zh</span>
<span><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentcolor"><path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414.0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414.0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd"/></svg></span><label><select name=lang class="absolute appearance-none inset-0 w-full h-full opacity-0 dark:text-slate-500" @change.debounce=toggleLanguage($event.target.value)><option value=none selected disabled hidden>default</option><option value=https://zhujianghan.github.io/zjh-blog/>ZH</option><option value=https://zhujianghan.github.io/zjh-blog/en/>EN</option></select></label></div></div></div><div class="mt-3 pt-3 border-t border-slate-200 dark:border-slate-200/10"><div class="flex items-center justify-between"><div class="text-slate-700 font-normal dark:text-slate-400">Switch theme</div><div class="relative flex items-center ring-1 ring-slate-900/10 rounded-lg shadow-sm p-2 text-slate-700 font-semibold dark:bg-slate-600 dark:ring-0 dark:highlight-white/5 dark:text-slate-200"><span class="w-6 h-6 mr-2 dark:hidden"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentcolor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364-.707-.707M6.343 6.343l-.707-.707m12.728.0-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"/></svg></span><span class="w-10 dark:hidden">Light</span>
<span class="w-6 h-6 mr-2 hidden dark:block"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentcolor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364-.707-.707M6.343 6.343l-.707-.707m12.728.0-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"/></svg></span><span class="w-10 hidden dark:block">Dark</span>
<span><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentcolor"><path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414.0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414.0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd"/></svg></span><label><select name=theme class="absolute appearance-none inset-0 w-full h-full opacity-0 dark:text-slate-500" @change.debounce=toggleTheme($event.target.value)><option value=none selected disabled hidden>default</option><option value=light>Light</option><option value=dark>Dark</option></select></label></div></div></div></div></div></div><main><div class="container mx-auto xl:max-w-screen-xl mt-8 px-2 flex justify-between space-x-5"><div class="w-full md:w-3/4"><ul class=space-y-10><li class=space-y-2><h3><a href=https://zhujianghan.github.io/zjh-blog/posts/server/centos%E7%A3%81%E7%9B%98%E6%9F%A5%E7%9C%8B/ class="text-lg font-bold">Centos磁盘查看</a></h3><div class="text-sm flex items-center space-x-5"><span class="flex items-center space-x-1"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentcolor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5A2 2 0 003 7v12a2 2 0 002 2z"/></svg><time>2024-05-15</time></span><ul class="flex items-center space-x-2"><li class="px-1 py-0.5 rounded text-white bg-emerald-500"><a href=https://zhujianghan.github.io/zjh-blog/tags/server>server</a></li><li class="px-1 py-0.5 rounded text-white bg-emerald-500"><a href=https://zhujianghan.github.io/zjh-blog/tags/centos>centos</a></li></ul></div><div class="line-clamp-3 md:line-clamp-2 text-sm">记一次服务器负载过高导致web访问变慢 阿里云监控 在阿里云监控平台发现内存占用 75%以上, cpu在 50%左右,
检查系统负载 uptime, 分别显示一段时间的平均系统负载, 1分钟, 5分钟, 15分钟
检查内存 free -h
检查 cpu 服务器查看 top 都卡, 后查看 pm2, 发现一个实例就占用了 1G+内存, pm2 reload 1 实现重启, 内存占用到 200M
ps: ssh界面 如果宽度不够长, pm2 ls 只会显示部分列, 要查看更多(如 uptime 等), 需拉长或全屏终端.
检查磁盘 df -h 查看总占用 cd / && du -ah &ndash;max-depth=1 | sort -rh 查看根目录下文件夹占用 进去某个文件夹, du -ah &ndash;max-depth=1 | sort -rh 查看文件夹占用 nginx access.log 过大, echo -n '' > access.log 清空文件</div></li><li class=space-y-2><h3><a href=https://zhujianghan.github.io/zjh-blog/posts/server/fix-failed-to-verify-certificate-x509/ class="text-lg font-bold">Fix Failed to Verify Certificate X509</a></h3><div class="text-sm flex items-center space-x-5"><span class="flex items-center space-x-1"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentcolor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5A2 2 0 003 7v12a2 2 0 002 2z"/></svg><time>2024-04-18</time></span><ul class="flex items-center space-x-2"><li class="px-1 py-0.5 rounded text-white bg-emerald-500"><a href=https://zhujianghan.github.io/zjh-blog/tags/https>https</a></li></ul></div><div class="line-clamp-3 md:line-clamp-2 text-sm">修复 &ldquo;Failed to Verify Certificate X509&rdquo; 问题 问题出现背景 linux 环境下在 go 中用一个函数获取 https 证书有效期, 在查询一个由 freessl cname 申请的证书后, 发现报错
Errortls: failed to verify certificate: x509: certificate signed by unknown authority 而在 windows 环境又正常, 遂在 linux 中使用 curl https://xxx.com 得到
curl: (60) Peer's Certificate issuer is not recognized. More details here: http://curl.haxx.se/docs/sslcerts.html package pkg import ( "crypto/tls" "errors" "time" ) func WillExpireIn7Days(hostname string) (bool, time.Time, error) { conn, err := tls.Dial("tcp", hostname+":443", nil) if err !</div></li><li class=space-y-2><h3><a href=https://zhujianghan.github.io/zjh-blog/posts/frontend/line-breaks-for-strings-on-canvas/ class="text-lg font-bold">Line Breaks for Strings on Canvas</a></h3><div class="text-sm flex items-center space-x-5"><span class="flex items-center space-x-1"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentcolor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5A2 2 0 003 7v12a2 2 0 002 2z"/></svg><time>2023-11-10</time></span><ul class="flex items-center space-x-2"><li class="px-1 py-0.5 rounded text-white bg-emerald-500"><a href=https://zhujianghan.github.io/zjh-blog/tags/canvas>canvas</a></li></ul></div><div class="line-clamp-3 md:line-clamp-2 text-sm">canvas 绘制文本时, 换行如何解决 背景 微信小程序中使用 canvas 绘制分享海报长文本不能自动换行
题外: Taro 小程序中 canvas 的宽高设置
// poster.jsx export default () => { useLoad(() => { ... const dpr = Taro.getWindowInfo().pixelRatio // canvas对象 通过 createSelectorQuery 获取 canvas.width = renderWidth * dpr canvas.height = renderHeight * dpr ctx.scale(dpr, dpr) ... }) return ( ... &lt;Canvas id='poster' type='2d' style='width:320px;height:400px' /> ... ) } 思路 对于纯中文, 不用考虑单词被分到两行
先将文本按每个 字符 分成数组 按 canvas 的 measureText 方法调整一行的宽度(字体大小不同, 宽度不同), 获取每一行应该出现的文本 分行按高度输出 对于纯英文, 要考虑单词被分到两行</div></li><li class=space-y-2><h3><a href=https://zhujianghan.github.io/zjh-blog/posts/backend/go-file-server/ class="text-lg font-bold">Go File Server</a></h3><div class="text-sm flex items-center space-x-5"><span class="flex items-center space-x-1"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentcolor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5A2 2 0 003 7v12a2 2 0 002 2z"/></svg><time>2023-10-10</time></span><ul class="flex items-center space-x-2"><li class="px-1 py-0.5 rounded text-white bg-emerald-500"><a href=https://zhujianghan.github.io/zjh-blog/tags/go>go</a></li><li class="px-1 py-0.5 rounded text-white bg-emerald-500"><a href=https://zhujianghan.github.io/zjh-blog/tags/http>http</a></li></ul></div><div class="line-clamp-3 md:line-clamp-2 text-sm">使用 go 内置 http 快速开启文件服务器 func main() { // 方式1 // http.ListenAndServe(":8080", http.FileServer(http.Dir("./public"))) // 方式2: 可自动生成对应文件列表页面 fs := http.FileServer(http.Dir("public")) // http.Handle("/public/", http.StripPrefix("/public/", fs)) // http.Handle("/", http.StripPrefix("/public/", fs)) http.Handle("/", fs) http.ListenAndServe(":8080", nil) }</div></li><li class=space-y-2><h3><a href=https://zhujianghan.github.io/zjh-blog/posts/server/upgrade-nodejs-by-yum-on-centos/ class="text-lg font-bold">Upgrade Nodejs by Yum on Centos</a></h3><div class="text-sm flex items-center space-x-5"><span class="flex items-center space-x-1"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentcolor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5A2 2 0 003 7v12a2 2 0 002 2z"/></svg><time>2023-06-20</time></span><ul class="flex items-center space-x-2"><li class="px-1 py-0.5 rounded text-white bg-emerald-500"><a href=https://zhujianghan.github.io/zjh-blog/tags/node>node</a></li><li class="px-1 py-0.5 rounded text-white bg-emerald-500"><a href=https://zhujianghan.github.io/zjh-blog/tags/centos>centos</a></li><li class="px-1 py-0.5 rounded text-white bg-emerald-500"><a href=https://zhujianghan.github.io/zjh-blog/tags/yum>yum</a></li></ul></div><div class="line-clamp-3 md:line-clamp-2 text-sm">centos7.9 yum 升级 nodejs(14->16) 步骤 首先确定当前 nodejs 是由 yum 安装的 $ yum list installed | grep nodejs # nodejs.x86_64 2:12.22.12-1nodesource @nodesource 删除当前 nodejs 版本 (https://github.com/nodesource/distributions) yum remove nodejs rm -r /etc/yum.repos.d/nodesource*.repo yum clean all 添加 nodejs16 源 $ curl -fsSL https://rpm.nodesource.com/setup_16.x | sudo bash - 安装 nodejs $ sudo yum install -y nodejs $ node -v $ npm -v</div></li><li class=space-y-2><h3><a href=https://zhujianghan.github.io/zjh-blog/posts/backend/sql-count-with-condition/ class="text-lg font-bold">Sql Count With Condition</a></h3><div class="text-sm flex items-center space-x-5"><span class="flex items-center space-x-1"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentcolor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5A2 2 0 003 7v12a2 2 0 002 2z"/></svg><time>2023-06-14</time></span><ul class="flex items-center space-x-2"><li class="px-1 py-0.5 rounded text-white bg-emerald-500"><a href=https://zhujianghan.github.io/zjh-blog/tags/mysql>mysql</a></li></ul></div><div class="line-clamp-3 md:line-clamp-2 text-sm">多表 left join 后, 使用 count 查询需要使用 distinct, 如果 count 里需要再次添加条件, 使用 distinct if(&mldr;)
# 不做聚合查询 select company.id as company_id, company.name as company_name, vacancy.id as vacancy_id, vacancy.name as vacancy_name, shop.id as shop_id, shop.shop_name as shop_name, course.id as course_id, course.title as course_name from tb_company company left join tb_position vacancy on vacancy.company_id = company.id left join tb_shop shop on shop.company_id = company.id left join tb_shop_curriculum course on course.shop_id = shop.id where (vacancy.</div></li><li class=space-y-2><h3><a href=https://zhujianghan.github.io/zjh-blog/posts/frontend/line-clamp-%E5%B1%95%E5%BC%80%E9%97%AE%E9%A2%98/ class="text-lg font-bold">Line Clamp 展开问题</a></h3><div class="text-sm flex items-center space-x-5"><span class="flex items-center space-x-1"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentcolor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5A2 2 0 003 7v12a2 2 0 002 2z"/></svg><time>2023-06-09</time></span></div><div class="line-clamp-3 md:line-clamp-2 text-sm">要求: 多行文本时, 显示可展开按钮, 如果小于指定行数则无需显示 通过 line-clamp 设置行数 通过里外 div 的高度来初始化是否需要 &ldquo;展开&rdquo; 按钮 &lt;!doctype html> &lt;html lang="en"> &lt;head> &lt;meta charset="UTF-8"> &lt;meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0"> &lt;meta http-equiv="X-UA-Compatible" content="ie=edge"> &lt;title>Document&lt;/title> &lt;style> .contentBox { margin: 20px 0; border: 1px solid #666; width: 200px; } input { display: none; } .outer { overflow: hidden; display: -webkit-box; -webkit-box-orient: vertical; -webkit-line-clamp: 5; } input[name="toggle"]:checked + .outer { -webkit-line-clamp: unset; } input[name="toggle"]:checked + div.outer + label::after { content: '收起'; } label::after { content: '更多'; } label { display: none; background: #aaa; padding: 1px 2px; } &lt;/style> &lt;/head> &lt;body> &lt;button onclick="setLine('&lt;3')">文本长度 &lt; 3 行&lt;/button> &lt;button onclick="setLine('=3')">文本长度 = 3 行&lt;/button> &lt;button onclick="setLine('>3')">文本长度 > 3行&lt;/button> &lt;div class="contentBox"> &lt;input type="checkbox" id="toggle" name="toggle"> &lt;div class="outer"> &lt;div class="inner"> -webkit-line-clamp CSS 属性可以把块容器中的内容限制为指定的行数。 &lt;br> 它只有在 display 属性设置成 -webkit-box 或者 -webkit-inline-box 并且 box-orient 属性设置成 vertical时才有效果。 &lt;br> 在大部分情况下，也需要设置 overflow 属性为 hidden，否则，里面的内容不会被裁减，并且在内容显示为指定行数后还会显示省略号。 &lt;/div> &lt;/div> &lt;label for="toggle">&lt;/label> &lt;/div> &lt;script> function displayLabel() { if (document.</div></li><li class=space-y-2><h3><a href=https://zhujianghan.github.io/zjh-blog/posts/server/nginx_config-proxy_pass/ class="text-lg font-bold">Nginx__config Proxy_pass</a></h3><div class="text-sm flex items-center space-x-5"><span class="flex items-center space-x-1"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentcolor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5A2 2 0 003 7v12a2 2 0 002 2z"/></svg><time>2023-02-10</time></span><ul class="flex items-center space-x-2"><li class="px-1 py-0.5 rounded text-white bg-emerald-500"><a href=https://zhujianghan.github.io/zjh-blog/tags/nginx>nginx</a></li></ul></div><div class="line-clamp-3 md:line-clamp-2 text-sm">参考简书: nginx 之 proxy_pass 详解
nginx conf 之 proxy_pass 使用背景 vue3 项目调用后台接口时, 不希望将后端接口地址(host地址) 暴露给普通用户, 并且直接解决浏览器跨域问题, 会使用 nginx 对接口地址作代码, 表面上访问前端 vue 项目的接口地址, 实际上会通过代码转发到真正的后端服务地址
vue3+vite 开发环境在 vite.config.js 配置代理 // vite.config.js export defaut defineConfig({ ... server: { proxy: { '/api': { target: 'http://backend.test/api', changeOrigin: true, rewrite: (path) => path.replace(/^\/api/, '') } } } ... }) nginx conf 生产环境 按要代理的地址最后是否带 &lsquo;/&rsquo;,及是否有 子目录分为 2 种情况, 每种情况按是否有子目录又可再细分为 2 种情况
有 &lsquo;/&rsquo; 表示绝对路径, 不带 location;
没有表示相对路径, 要带上 location 后的路径</div></li><li class=space-y-2><h3><a href=https://zhujianghan.github.io/zjh-blog/posts/server/apache_bench_in_go__hey/ class="text-lg font-bold">Apache_bench_in_go__hey</a></h3><div class="text-sm flex items-center space-x-5"><span class="flex items-center space-x-1"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentcolor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5A2 2 0 003 7v12a2 2 0 002 2z"/></svg><time>2023-02-01</time></span><ul class="flex items-center space-x-2"><li class="px-1 py-0.5 rounded text-white bg-emerald-500"><a href=https://zhujianghan.github.io/zjh-blog/tags/benchmark>benchmark</a></li></ul></div><div class="line-clamp-3 md:line-clamp-2 text-sm">使用 hey 代替 ab 对网站应用做性能测试 (服务器配置) https://github.com/rakyll/hey
hey is a tiny program that sends some load to a web application.
二八定律: 80% 的请求(访问)集中在 20% 的时间内
假设一个网站每日 pv (page visit) 300w,
也就是 300w*80% &lt;=> 3600*24*20%, 240w pv 在 17280s 内, 240*10000/17280 = 138 QPS (query per second)
如果单台机器支持的 QPS 在 50, 那么需要 3 台这样的机器才能满足需求
## hey 执行结果示例 $ hey http://localhost:8080/api/tmp Summary: Total: 0.1239 secs Slowest: 0.0961 secs Fastest: 0.0006 secs Average: 0.</div></li><li class=space-y-2><h3><a href=https://zhujianghan.github.io/zjh-blog/posts/server/docker-build-development-environment-of-tarojs/ class="text-lg font-bold">Docker Build Development Environment of Tarojs</a></h3><div class="text-sm flex items-center space-x-5"><span class="flex items-center space-x-1"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentcolor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5A2 2 0 003 7v12a2 2 0 002 2z"/></svg><time>2022-10-28</time></span><ul class="flex items-center space-x-2"><li class="px-1 py-0.5 rounded text-white bg-emerald-500"><a href=https://zhujianghan.github.io/zjh-blog/tags/docker>docker</a></li><li class="px-1 py-0.5 rounded text-white bg-emerald-500"><a href=https://zhujianghan.github.io/zjh-blog/tags/tarojs>tarojs</a></li></ul></div><div class="line-clamp-3 md:line-clamp-2 text-sm">// 目录结构 |-- project folder | |-- xxx | |-- yyy | |-- zzz | |-- ... | |-- docker-files | | Dockerfile | | docker-compose.yml // Dockerfile # syntax=docker/dockerfile:1 FROM node:16-alpine RUN \ npm config set registry http://registry.npmmirror.com \ && npm install -g @tarojs/cli RUN mkdir -p /var/www WORKDIR /var/www // docker-compose.yml version: '3.7' networks: frontend: driver: bridge services: ### Taro ############################################## taro: container_name: taro restart: always build: context: .</div></li><li class=space-y-2><h3><a href=https://zhujianghan.github.io/zjh-blog/posts/server/vmware-share-folder/ class="text-lg font-bold">vmware-共享文件夹设置</a></h3><div class="text-sm flex items-center space-x-5"><span class="flex items-center space-x-1"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentcolor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5A2 2 0 003 7v12a2 2 0 002 2z"/></svg><time>2022-10-27</time></span><ul class="flex items-center space-x-2"><li class="px-1 py-0.5 rounded text-white bg-emerald-500"><a href=https://zhujianghan.github.io/zjh-blog/tags/vmware>vmware</a></li><li class="px-1 py-0.5 rounded text-white bg-emerald-500"><a href=https://zhujianghan.github.io/zjh-blog/tags/linux>linux</a></li></ul></div><div class="line-clamp-3 md:line-clamp-2 text-sm">虚拟机关机状态下, vmware中 设置-选项-共享文件夹 添加要共享的文件夹 虚拟机开机, vmware中 虚拟机-安装VMware-Tools 虚拟机中安装 open-vm-tools-desktop (has gui) 或 open-vm-tools (no gui) 虚拟机中执行 /usr/bin/vmhgfs-fuse .host:/ /home/user1/shares -o subtype=vmhgfs-fuse,allow_other 挂载共享文件夹, ubuntu 提示 allow_user 需要其它设置, 则删除 &lsquo;,allow_other&rsquo; 即可 open-vm-tools 安装参考官方文档
文件夹挂载 参考文档
参考csdn: vmware 挂载共享文件夹</div></li><li class=space-y-2><h3><a href=https://zhujianghan.github.io/zjh-blog/posts/interview/exercise_go_unit_test_palindrome/ class="text-lg font-bold">Exercise_go_unit_test_是否回文</a></h3><div class="text-sm flex items-center space-x-5"><span class="flex items-center space-x-1"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentcolor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5A2 2 0 003 7v12a2 2 0 002 2z"/></svg><time>2022-09-09</time></span><ul class="flex items-center space-x-2"><li class="px-1 py-0.5 rounded text-white bg-emerald-500"><a href=https://zhujianghan.github.io/zjh-blog/tags/go>go</a></li><li class="px-1 py-0.5 rounded text-white bg-emerald-500"><a href=https://zhujianghan.github.io/zjh-blog/tags/unit-test>unit-test</a></li></ul></div><div class="line-clamp-3 md:line-clamp-2 text-sm">编写一个回文检测函数，并为其编写单元测试和基准测试，根据测试的结果逐步对其进行优化。（回文：一个字符串正序和逆序一样，如“Madam,I’mAdam”、“油灯少灯油”等。） 来源:李文周blog
tip: 要考虑中文则使用 rune
// palindrome/palindrome.go package palindrome func IsPalindrome(s string) bool { // 转成 rune, 应对中文等特殊字符 r := []rune(s) l := len(r) for i := 0; i &lt; l/2; i++ { if r[i] != r[l-1-i] { return false } } return true } // palindrome/palindrome_test.go package palindrome import ( "fmt" "testing" ) func TestIsPalindrome(t *testing.T) { type test struct { text string want bool } arr := []test{ {"", true}, {"a", true}, {"aa", true}, {"ab", false}, {"aba", true}, {"abcba", true}, {"abccba", true}, {"abcdabcd", false}, {"Madam,I’mAdam", false}, {"油灯少灯油", true}, } for _, tc := range arr { t.</div></li><li class=space-y-2><h3><a href=https://zhujianghan.github.io/zjh-blog/posts/other/tcp_ip_model/ class="text-lg font-bold">TCP/IP 模型</a></h3><div class="text-sm flex items-center space-x-5"><span class="flex items-center space-x-1"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentcolor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5A2 2 0 003 7v12a2 2 0 002 2z"/></svg><time>2022-09-09</time></span><ul class="flex items-center space-x-2"><li class="px-1 py-0.5 rounded text-white bg-emerald-500"><a href=https://zhujianghan.github.io/zjh-blog/tags/tcp/ip>tcp/ip</a></li></ul></div><div class="line-clamp-3 md:line-clamp-2 text-sm">TCP/IP 模型分层 DOD: The Department of Defense, 美国国防部模型 OSI: Open Systems Interconnection, 国际标准化组织提供 DOD四层模型 OSI七层模型 备注 应用层 应用层 http,smtp,ftp&mldr; 表示层 会话层 传输层 传输层 tcp,udp&mldr;,端口 网络层 网络层 ip,arp 网络接口层 数据链路层 帧,mac地址 物理层 0,1 Socket(套接字) Socket是BSD UNIX的进程通信机制，通常也称作”套接字”，用于描述IP地址和端口，是一个通信链的句柄。Socket可以理解为TCP/IP网络的API，它定义了许多函数或例程，程序员可以用它们来开发TCP/IP网络上的应用程序。电脑上运行的应用程序通常通过”套接字”向网络发出请求或者应答网络请求。
socket 抽象层, 是对 tcp/ip 的封装
TCP&mldr; UDP&mldr;</div></li><li class=space-y-2><h3><a href=https://zhujianghan.github.io/zjh-blog/posts/interview/goroutine_exercise/ class="text-lg font-bold">Goroutine 练习题</a></h3><div class="text-sm flex items-center space-x-5"><span class="flex items-center space-x-1"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentcolor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5A2 2 0 003 7v12a2 2 0 002 2z"/></svg><time>2022-09-07</time></span><ul class="flex items-center space-x-2"><li class="px-1 py-0.5 rounded text-white bg-emerald-500"><a href=https://zhujianghan.github.io/zjh-blog/tags/go>go</a></li><li class="px-1 py-0.5 rounded text-white bg-emerald-500"><a href=https://zhujianghan.github.io/zjh-blog/tags/goroutine>goroutine</a></li><li class="px-1 py-0.5 rounded text-white bg-emerald-500"><a href=https://zhujianghan.github.io/zjh-blog/tags/channel>channel</a></li></ul></div><div class="line-clamp-3 md:line-clamp-2 text-sm">题目: 使用 goroutine 和 channel 实现一个计算int64随机数各位数和的程序，例如生成随机数61345，计算其每个位数上的数字之和为19。 开启一个 goroutine 循环生成int64类型的随机数，发送到 jobChan 开启24个 goroutine 从jobChan中取出随机数计算各位数的和，将结果发送到resultChan 主 goroutine 从resultChan取出结果并打印到终端输出 题目来源: 李文周blog
package main import ( "fmt" "math/rand" "runtime" "time" ) func main() { numChan := make(chan int, 24) resChan := make(chan int) for i := 0; i &lt; 24; i++ { go func() { for num := range numChan { if check19(num) { resChan &lt;- num break } } }() } FOR: for { select { case res := &lt;-resChan: fmt.</div></li><li class=space-y-2><h3><a href=https://zhujianghan.github.io/zjh-blog/posts/interview/go_pointer_of_value_in_for_range/ class="text-lg font-bold">Go | for...range 中 value 的地址</a></h3><div class="text-sm flex items-center space-x-5"><span class="flex items-center space-x-1"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentcolor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5A2 2 0 003 7v12a2 2 0 002 2z"/></svg><time>2022-08-31</time></span><ul class="flex items-center space-x-2"><li class="px-1 py-0.5 rounded text-white bg-emerald-500"><a href=https://zhujianghan.github.io/zjh-blog/tags/go>go</a></li></ul></div><div class="line-clamp-3 md:line-clamp-2 text-sm">nums := []int{1, 2, 3} for i := 0; i &lt; len(nums); i++ { fmt.Printf("%p \n", &nums[i]) } for index, num := range nums { fmt.Printf("%p %p \n", &nums[index], &num) } // 0xc00000c150 // 0xc00000c158 // 0xc00000c160 // 0xc0000180e0 0xc00000c150 // 0xc0000180e0 0xc00000c158 // 0xc0000180e0 0xc00000c160 由上可知, 有 for range 遍历中, value 的地址是固定的, 相当于初始化一个变量, 之后每次遍历会把 value 值赋值给该变量
题目: 请问下面代码的执行结果是什么？ 题目来源: liwenzhou-blog go语言基础之结构体
type student struct { name string age int } func main() { m := make(map[string]*student) stus := []student{ {name: "小王子", age: 18}, {name: "娜扎", age: 23}, {name: "大王八", age: 9000}, } for _, stu := range stus { m[stu.</div></li><li class=space-y-2><h3><a href=https://zhujianghan.github.io/zjh-blog/posts/interview/go_difference_between_new_and_make/ class="text-lg font-bold">Go 中 make 与 new 的区别</a></h3><div class="text-sm flex items-center space-x-5"><span class="flex items-center space-x-1"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentcolor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5A2 2 0 003 7v12a2 2 0 002 2z"/></svg><time>2022-08-31</time></span><ul class="flex items-center space-x-2"><li class="px-1 py-0.5 rounded text-white bg-emerald-500"><a href=https://zhujianghan.github.io/zjh-blog/tags/go>go</a></li></ul></div><div class="line-clamp-3 md:line-clamp-2 text-sm">背景: 在 go 中, 基本类型的变量, 在使用var定义变量, 但是初始化值时, 系统会默认赋初始值, 如 string => &ldquo;"(空字符串), int => 0, bool => false, 如果是 struct, 也会按 field 的类型(要求 field 的类型也为基本类型)进行初始化
对于 slice, map, channel 这三种类型, 使用 var 定义类型后, 其值为 nil, 不占内存, 所以需要先分配内存, 不能只定义类型后就直接赋值
// map 初始化 map1 := make(map[string]string) // 推荐 map2 := map[string]string{} fmt.Printf("%#v\n", map1) fmt.Printf("%#v\n", map2) // slice 初始化 slice1 := make([]int, 0) slice1 = append(slice1, 1) var slice2 []int slice2 = append(slice2, 1) slice3 := []int{} // 不推荐 slice3 = append(slice3, 1) fmt.</div></li><li class=space-y-2><h3><a href=https://zhujianghan.github.io/zjh-blog/posts/interview/go_defer_return_%E9%A2%98%E6%9D%8E%E6%96%87%E5%91%A8/ class="text-lg font-bold">Go Defer Return 题 - 李文周</a></h3><div class="text-sm flex items-center space-x-5"><span class="flex items-center space-x-1"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentcolor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5A2 2 0 003 7v12a2 2 0 002 2z"/></svg><time>2022-08-30</time></span><ul class="flex items-center space-x-2"><li class="px-1 py-0.5 rounded text-white bg-emerald-500"><a href=https://zhujianghan.github.io/zjh-blog/tags/go>go</a></li></ul></div><div class="line-clamp-3 md:line-clamp-2 text-sm">题1: 阅读下面的代码，写出最后的打印结果 来源: 李文周blog - go语言基础之函数
return res 底层实现:
返回值 = x, 如果函数中已定义返回变量名, 则该返回变量 = x 执行返回 遇到 defer 时 return res 底层实现
返回值 = x. 如果函数中已定义返回变量名, 则该返回变量 = x; 如果函数中未指定返回变量名, 则假定返回变量名为 returnValue, 也就有 returnValue = x 执行 defer 的函数 执行 返回 func f1() int { x := 5 defer func() { x++ }() return x } func f2() (x int) { defer func() { x++ }() return 5 } func f3() (y int) { x := 5 defer func() { x++ }() return x } func f4() (x int) { defer func(x int) { x++ }(x) return 5 } func main() { fmt.</div></li><li class=space-y-2><h3><a href=https://zhujianghan.github.io/zjh-blog/posts/interview/go_slice_%E5%BA%95%E5%B1%82%E6%95%B0%E7%BB%84%E9%A2%98/ class="text-lg font-bold">Go slice 底层数组题</a></h3><div class="text-sm flex items-center space-x-5"><span class="flex items-center space-x-1"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentcolor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5A2 2 0 003 7v12a2 2 0 002 2z"/></svg><time>2022-08-30</time></span><ul class="flex items-center space-x-2"><li class="px-1 py-0.5 rounded text-white bg-emerald-500"><a href=https://zhujianghan.github.io/zjh-blog/tags/go>go</a></li></ul></div><div class="line-clamp-3 md:line-clamp-2 text-sm">请写出下面代码的输出结果 ⭐⭐⭐⭐
func main() { type Map map[string][]int m := make(Map) s := []int{1, 2} s = append(s, 3) fmt.Printf("%+v\n", s) m["q1mi"] = s s = append(s[:1], s[2:]...) fmt.Printf("%+v\n", s) fmt.Printf("%+v\n", m["q1mi"]) } 问题简化为
s := []int{1, 2, 3} s2 := s fmt.Println(s, s2) s = append(s[:1], s[2:]...) fmt.Println(s, s2) 点击查看 result:
[1 2 3] [1 2 3]
[1 3] [1 3 3]</div></li><li class=space-y-2><h3><a href=https://zhujianghan.github.io/zjh-blog/posts/interview/go_slice_%E5%86%99%E5%87%BA%E4%BB%A3%E7%A0%81%E7%9A%84%E8%BF%90%E8%A1%8C%E7%BB%93%E6%9E%9C/ class="text-lg font-bold">Go slice 写出代码的运行结果</a></h3><div class="text-sm flex items-center space-x-5"><span class="flex items-center space-x-1"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentcolor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5A2 2 0 003 7v12a2 2 0 002 2z"/></svg><time>2022-08-29</time></span><ul class="flex items-center space-x-2"><li class="px-1 py-0.5 rounded text-white bg-emerald-500"><a href=https://zhujianghan.github.io/zjh-blog/tags/go>go</a></li></ul></div><div class="line-clamp-3 md:line-clamp-2 text-sm">请写出下面代码的输出结果 func main() { var a = make([]string, 5, 10) for i := 0; i &lt; 10; i++ { a = append(a, fmt.Sprintf("%v", i)) } fmt.Println(a) } 点击查看 make 后 a 已经初始化为 []string{"","","","",""}
之后再 append, 会添加到后面 []string{"","","","","",&ldquo;0&rdquo;,&ldquo;1&rdquo;,&ldquo;2&rdquo;,&ldquo;3&rdquo;,&ldquo;4&rdquo;,&ldquo;5&rdquo;,&ldquo;6&rdquo;,&ldquo;7&rdquo;,&ldquo;8&rdquo;,9"}</div></li><li class=space-y-2><h3><a href=https://zhujianghan.github.io/zjh-blog/posts/interview/find_the_only_number_in_a_list/ class="text-lg font-bold">Find the only number in a list</a></h3><div class="text-sm flex items-center space-x-5"><span class="flex items-center space-x-1"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentcolor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5A2 2 0 003 7v12a2 2 0 002 2z"/></svg><time>2022-08-29</time></span><ul class="flex items-center space-x-2"><li class="px-1 py-0.5 rounded text-white bg-emerald-500"><a href=https://zhujianghan.github.io/zjh-blog/tags/go>go</a></li></ul></div><div class="line-clamp-3 md:line-clamp-2 text-sm">题: 有一堆数字，如果除了一个数字以外，其他数字都出现了两次，那么如何找到出现一次的数字？ 来源: 李文周 Go语言基础之运算符
利用 ^ 二进位异或 运算符
func findTheOnlyNumber(nums []int) (res int) { for index, num := range nums { if index == 0 { res = num } else { res = res ^ num } } return }</div></li><li class=space-y-2><h3><a href=https://zhujianghan.github.io/zjh-blog/posts/interview/number-of-chinese-in-a-string/ class="text-lg font-bold">Number of Chinese in a String</a></h3><div class="text-sm flex items-center space-x-5"><span class="flex items-center space-x-1"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentcolor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5A2 2 0 003 7v12a2 2 0 002 2z"/></svg><time>2022-08-26</time></span><ul class="flex items-center space-x-2"><li class="px-1 py-0.5 rounded text-white bg-emerald-500"><a href=https://zhujianghan.github.io/zjh-blog/tags/go>go</a></li></ul></div><div class="line-clamp-3 md:line-clamp-2 text-sm">题目: 编写代码统计出字符串"hello沙河小王子"中汉字的数量 题目来源: 李文周blog: Go语言基础之基本数据类型
tips:
字符串用 for 遍历, str[i] 的值是 byte(uint8) 类型, 且下标 i 是连续的, 从 0 到 len(str) 字符串用 for range 遍历, index,value 的值是 rune(int32) 类型, 下标不一定是连续的, 碰到中文只会出现中文的首下标, 然后跳到下一个 rune 字符 func getChineseCharNumInAString(str string) (num int) { for i, r := range str { if byte(r) == str[i] { continue } num++ } return num }</div></li><li class=space-y-2><h3><a href=https://zhujianghan.github.io/zjh-blog/posts/server/linux-crontab-pwd/ class="text-lg font-bold">Linux Crontab Pwd</a></h3><div class="text-sm flex items-center space-x-5"><span class="flex items-center space-x-1"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentcolor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5A2 2 0 003 7v12a2 2 0 002 2z"/></svg><time>2022-08-26</time></span><ul class="flex items-center space-x-2"><li class="px-1 py-0.5 rounded text-white bg-emerald-500"><a href=https://zhujianghan.github.io/zjh-blog/tags/linux>linux</a></li><li class="px-1 py-0.5 rounded text-white bg-emerald-500"><a href=https://zhujianghan.github.io/zjh-blog/tags/crontab>crontab</a></li></ul></div><div class="line-clamp-3 md:line-clamp-2 text-sm">背景: 使用 crontab -e 添加定时任务后, 发现任务没有如希望的执行, 发现要执行的命令是使用了相对路径引入文件, 推测是文件路径不正常
在 linux 中 root 用户执行命令 crotab -e 添加任务获取当前工作目录
* * * * * pwd >> ~/tmp.txt 2>&1 之后生成一新用户
# root 用户 # -m 生成用户同名 home 目录 useradd -m test passwd test # test 用户 同样新增获取 pwd 输出到其 home 目录的任务 crontab -e 经过执行发现,
在 /root/tmp.txt 文件中 pwd 输出为 /root
在 /home/test/tmp.txt 文件中 pwd 输出为 /home/test
&ldquo;The cron daemon starts a subshell from your HOME directory&rdquo; 参考文档</div></li><li class=space-y-2><h3><a href=https://zhujianghan.github.io/zjh-blog/posts/frontend/jquery-fill-vue-input/ class="text-lg font-bold">Jquery Fill Vue Input</a></h3><div class="text-sm flex items-center space-x-5"><span class="flex items-center space-x-1"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentcolor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5A2 2 0 003 7v12a2 2 0 002 2z"/></svg><time>2022-07-28</time></span><ul class="flex items-center space-x-2"><li class="px-1 py-0.5 rounded text-white bg-emerald-500"><a href=https://zhujianghan.github.io/zjh-blog/tags/jquery>jquery</a></li><li class="px-1 py-0.5 rounded text-white bg-emerald-500"><a href=https://zhujianghan.github.io/zjh-blog/tags/vue>vue</a></li></ul></div><div class="line-clamp-3 md:line-clamp-2 text-sm">想要使用 Jquery 写油猴脚本自动填充网页中的 input 框时, 使用 jquery 操作如下
&lt;form> &lt;input type="text" name="username"> &lt;input type="password" name="password"> &lt;/form> $('input:eq(0)').val('myname') // eq 用于特定第几个 input $('input:eq(1)').val('mypassword') 但如果目标网页是由 Vue(React) 编写的, 那么此种方法并不能改变框架内的 v-model 的值, 原因是 Vue 监听的是 input 元素的 input 事件, 而直接使用 jquery(vanilla js) 修改 input 元素的值并不会触发 input 事件,
解决办法是修改值后, 手动触发 input 事件
$('input:eq(0)')[0].dispatchEvent(new Event('input'), {bubbles: true})</div></li><li class=space-y-2><h3><a href=https://zhujianghan.github.io/zjh-blog/posts/other/jetbrains-word-separator/ class="text-lg font-bold">Jetbrains Word Separator</a></h3><div class="text-sm flex items-center space-x-5"><span class="flex items-center space-x-1"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentcolor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5A2 2 0 003 7v12a2 2 0 002 2z"/></svg><time>2022-07-28</time></span><ul class="flex items-center space-x-2"><li class="px-1 py-0.5 rounded text-white bg-emerald-500"><a href=https://zhujianghan.github.io/zjh-blog/tags/jetbrains>jetbrains</a></li><li class="px-1 py-0.5 rounded text-white bg-emerald-500"><a href=https://zhujianghan.github.io/zjh-blog/tags/vscode>vscode</a></li></ul></div><div class="line-clamp-3 md:line-clamp-2 text-sm">jetbrains 设置待定&mldr; vscode 中 文件-首选项-设置, 搜索 editor.wordSeparators 进行设置</div></li><li class=space-y-2><h3><a href=https://zhujianghan.github.io/zjh-blog/posts/frontend/js-data-types/ class="text-lg font-bold">Js Data Types</a></h3><div class="text-sm flex items-center space-x-5"><span class="flex items-center space-x-1"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentcolor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5A2 2 0 003 7v12a2 2 0 002 2z"/></svg><time>2022-07-14</time></span><ul class="flex items-center space-x-2"><li class="px-1 py-0.5 rounded text-white bg-emerald-500"><a href=https://zhujianghan.github.io/zjh-blog/tags/js>js</a></li><li class="px-1 py-0.5 rounded text-white bg-emerald-500"><a href=https://zhujianghan.github.io/zjh-blog/tags/mermaid>mermaid</a></li></ul></div><div class="line-clamp-3 md:line-clamp-2 text-sm">flowchart TD L1([JS 数据类型]) L1-->L21(基本类型 数值类型) L1-->L22(对象类型 引用类型) L21-->L301(字符串) L21-->L302(数字) L21-->L303(布尔) L21-->L304(undefined) L21-->L305(null) L22-->L311(对象) L22-->L312(数组) L22-->L313(函数) flowchart TD L1([JS 数据类型判断方法]) L1-->L21(typeof) L1-->L22(instanceof) L1-->L23("===") L21--可以判断-->L311(字符串
数字
布尔
undefined
function) L21--不可以判断-->L312(null Vs Object
Object Vs Array) L22-->L321(对象的具体类型) L23-->L33(null, undefined)</div></li><li class=space-y-2><h3><a href=https://zhujianghan.github.io/zjh-blog/posts/other/two-github-account-in-one-pc/ class="text-lg font-bold">一台机器内ssh连接两个github账号</a></h3><div class="text-sm flex items-center space-x-5"><span class="flex items-center space-x-1"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentcolor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5A2 2 0 003 7v12a2 2 0 002 2z"/></svg><time>2022-06-30</time></span><ul class="flex items-center space-x-2"><li class="px-1 py-0.5 rounded text-white bg-emerald-500"><a href=https://zhujianghan.github.io/zjh-blog/tags/ssh>ssh</a></li><li class="px-1 py-0.5 rounded text-white bg-emerald-500"><a href=https://zhujianghan.github.io/zjh-blog/tags/github>github</a></li></ul></div><div class="line-clamp-3 md:line-clamp-2 text-sm">问题: 如何在一台机器连接两个github账号 step1 生成两个 id_rsa 文件 一台机器使用 ssh 连接到 github 需要用到本地的 id_rsa.pub 文件, 一般在 /users/.ssh 文件夹内, 如果没有 id_rsa 文件, 则使用如下命令生成, 然后把这个 key 复制到 github 中
ssh-keygen -t ed25519 -C "your_email@example.com" 如果直接把 ssh key 复制到另一个 github 账号, 会提示 key 已被使用, 那么需要另外再生成一个 key, 使用 -f 命令指定生成的文件名
ssh-keygen -t ed25519 -C "your_email@example.com" -f "id_rsa2" step2 配置 github 使用不同的 id_rsa 在 .ssh 文件夹内新建 config 文件
# 该文件用于配置私钥对应的服务器 # Default github user(first@mail.com) Host github.com HostName github.</div></li><li class=space-y-2><h3><a href=https://zhujianghan.github.io/zjh-blog/posts/backend/buffer-string-%E5%92%8C-buffer-string/ class="text-lg font-bold">Buffer-String()-和-Buffer-String()</a></h3><div class="text-sm flex items-center space-x-5"><span class="flex items-center space-x-1"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentcolor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5A2 2 0 003 7v12a2 2 0 002 2z"/></svg><time>2022-06-16</time></span><ul class="flex items-center space-x-2"><li class="px-1 py-0.5 rounded text-white bg-emerald-500"><a href=https://zhujianghan.github.io/zjh-blog/tags/go>go</a></li></ul></div><div class="line-clamp-3 md:line-clamp-2 text-sm">b1 := bytes.Buffer{} // 非指针 b2 := bytes.NewBuffer([]byte{}) // 指针 b3 := &bytes.Buffer{} // 指针, 等同于 b2 b1.WriteString("abc") b2.WriteString("abc") fmt.Println(b1) // {[97 98 99] 0 0} fmt.Println(b1.String()) // abc fmt.Println(b2) // abc 原因: *Buffer 有方法 String(), Buffer 没有 String() 方法.
fmt.Println(b1), 就是 fmt 将 b1 按普通结构体进行输出: 分别输出各项 fmt.Println(b1.String()), 调用了 *Buffer 的 String() 方法 fmt.Println(b2), 自动调用 *Buffer 的 String() 方法 参考自 stackoverflow</div></li><li class=space-y-2><h3><a href=https://zhujianghan.github.io/zjh-blog/posts/other/windows10-%E8%A7%A3%E9%99%A4%E6%96%87%E4%BB%B6%E5%8D%A0%E7%94%A8/ class="text-lg font-bold">windows10-解除文件占用</a></h3><div class="text-sm flex items-center space-x-5"><span class="flex items-center space-x-1"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentcolor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5A2 2 0 003 7v12a2 2 0 002 2z"/></svg><time>2022-06-08</time></span></div><div class="line-clamp-3 md:line-clamp-2 text-sm">win10 使用 powershell 删除文件夹 rm -r -fo ./dirname, 不能使用 rm -rf ./dirname 参考知乎 Powershell 中的 rm -rf
任务管理器 -> 性能 -> 打开资源监视器 -> cpu -> 关联的句柄 -> 搜索句柄 参考百度经验强制解除文件占用</div></li><li class=space-y-2><h3><a href=https://zhujianghan.github.io/zjh-blog/posts/backend/gin-middleware-%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9/ class="text-lg font-bold">gin-middleware-注意事项</a></h3><div class="text-sm flex items-center space-x-5"><span class="flex items-center space-x-1"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentcolor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5A2 2 0 003 7v12a2 2 0 002 2z"/></svg><time>2022-06-07</time></span><ul class="flex items-center space-x-2"><li class="px-1 py-0.5 rounded text-white bg-emerald-500"><a href=https://zhujianghan.github.io/zjh-blog/tags/go>go</a></li><li class="px-1 py-0.5 rounded text-white bg-emerald-500"><a href=https://zhujianghan.github.io/zjh-blog/tags/gin>gin</a></li></ul></div><div class="line-clamp-3 md:line-clamp-2 text-sm">1. gin middleware 如果要中止后面中间件及所有程序的执行, 需要使用 c.Abort() + return 其中 Abort 会中止其后的中间件及页面处理程序, 而不会中止当前中间件函数内的余下程序, 使用 return 来中止当前中间件内后部的程序 func RejectMethodsExceptGet() gin.HandlerFunc { rejectMethods := map[string]struct{}{ "POST": {}, "DELETE": {}, "PUT": {}, "PATCH": {}, } return func(c *gin.Context) { if _, exist := rejectMethods[c.Request.Method]; exist { c.AbortWithStatusJSON(403, gin.H{ "err_msg": "invalid method", }) return } c.Next() } } 2. 中间件 Use 需要写在路由注册之前, 否则将不对之前注册的路由起作用 r := gin.New() r.Use(RejectMethodsExceptGet()) r.GET("/test", func(c *gin.Context) { example := c.MustGet("example").(string) // it would print: "12345" log.</div></li><li class=space-y-2><h3><a href=https://zhujianghan.github.io/zjh-blog/posts/backend/go-routine-%E4%BD%BF%E7%94%A8%E5%A4%96%E9%83%A8%E5%8F%98%E9%87%8F%E9%97%AE%E9%A2%98/ class="text-lg font-bold">go-routine-使用外部变量问题</a></h3><div class="text-sm flex items-center space-x-5"><span class="flex items-center space-x-1"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentcolor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5A2 2 0 003 7v12a2 2 0 002 2z"/></svg><time>2022-04-26</time></span><ul class="flex items-center space-x-2"><li class="px-1 py-0.5 rounded text-white bg-emerald-500"><a href=https://zhujianghan.github.io/zjh-blog/tags/go>go</a></li></ul></div><div class="line-clamp-3 md:line-clamp-2 text-sm">for i := 0; i &lt; 10; i++ { go func() { fmt.Println(i) } } time.Sleep(time.Second) // 10,10,10,10,... 使用 go vet 检查
// 修改 for i := 0; i &lt; 10; i++ { go func() { i2 := i fmt.Println(i2) } } // 或者(推荐) for i := 0; i &lt; 10; i++ { go func(i int) { fmt.Println(i) }(i) } time.Sleep(time.Second) 参考 https://www.jianshu.com/p/e5f328819d4b</div></li><li class=space-y-2><h3><a href=https://zhujianghan.github.io/zjh-blog/posts/server/%E6%9F%A5%E7%9C%8B%E6%9C%AC%E6%9C%BA-ip/ class="text-lg font-bold">查看本机-ip</a></h3><div class="text-sm flex items-center space-x-5"><span class="flex items-center space-x-1"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentcolor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5A2 2 0 003 7v12a2 2 0 002 2z"/></svg><time>2022-04-24</time></span><ul class="flex items-center space-x-2"><li class="px-1 py-0.5 rounded text-white bg-emerald-500"><a href=https://zhujianghan.github.io/zjh-blog/tags/linux>linux</a></li></ul></div><div class="line-clamp-3 md:line-clamp-2 text-sm">hostname -I ip addr ifconfig, // 需要已安装 net-tools</div></li><li class=space-y-2><h3><a href=https://zhujianghan.github.io/zjh-blog/posts/backend/%E4%B8%80%E9%81%93%E5%B0%8F%E9%A2%98--%E8%8E%B7%E5%8F%96%E6%9C%AC%E6%9C%88%E6%9C%89%E5%A4%9A%E5%B0%91%E5%A4%A9/ class="text-lg font-bold">一道小题--获取本月有多少天</a></h3><div class="text-sm flex items-center space-x-5"><span class="flex items-center space-x-1"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentcolor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5A2 2 0 003 7v12a2 2 0 002 2z"/></svg><time>2022-04-16</time></span><ul class="flex items-center space-x-2"><li class="px-1 py-0.5 rounded text-white bg-emerald-500"><a href=https://zhujianghan.github.io/zjh-blog/tags/php>php</a></li></ul></div><div class="line-clamp-3 md:line-clamp-2 text-sm">$today = "2018-8-8"; echo date('t',strtotime($today));// t 为本月天数, 28-31之间 // date() 函数可以直接得出, 避免了 复杂的判断 闰年,几月 等</div></li><li class=space-y-2><h3><a href=https://zhujianghan.github.io/zjh-blog/posts/backend/%E4%BD%BF%E7%94%A8-gregwar-captcha-%E7%94%9F%E6%88%90%E5%9B%BA%E5%AE%9A%E5%AD%97%E7%AC%A6%E7%9A%84%E9%AA%8C%E8%AF%81%E7%A0%81/ class="text-lg font-bold">使用-gregwar-captcha-生成固定字符的验证码</a></h3><div class="text-sm flex items-center space-x-5"><span class="flex items-center space-x-1"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentcolor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5A2 2 0 003 7v12a2 2 0 002 2z"/></svg><time>2022-04-16</time></span></div><div class="line-clamp-3 md:line-clamp-2 text-sm">使用 gregwar/captcha 可以方便地生成验证码图片(直接输出或 base64)
$builder = new CaptchaBuilder; $builder->build(); $text = $builder->getPhrase(); // 验证码文本 $pic = $builder->inline();// base64 captcha 现如今在 laravel 本地环境中(非 production), 不想每次生成新的要去图片查验的验证码, 查看文档, 说是 &ldquo;直接使用 $builder = new CaptchaBuilder('12345')&rdquo;, 其中的 12345 (phrase) 必须为 string 但是这样再使用 $builder->inline() 会报错, 无法生成验证码图片
经过查看 CaptchaBuilder.php 类文件, 比较两种方式有什么差别() 可以发现, 随机生成验证码我多走了一步 $builder->build(), 而这正是通过 GD 库来绘制图片的步骤. 问题的原因找到了
看完 build() 方法会看到 return $this, 于是可以通过 $builder = $builder->build() 来获取最新的实例, 接下来就可以使用 inline() 方法了
ps: 其实就算没有 return $this (不使用 $builder = $builder->build() 而用 $builder->build() ) 也可以正常返回 base64 图片, 因为图片内容在方法中传回给实例的属性了, 在 inline() 方法中会调到到这些属性</div></li><li class=space-y-2><h3><a href=https://zhujianghan.github.io/zjh-blog/posts/frontend/%E4%BB%80%E4%B9%88%E6%98%AFbfc---bfc%E7%9A%84%E5%8E%9F%E7%90%86%E5%8F%8A%E4%BD%9C%E7%94%A8-/ class="text-lg font-bold">什么是BFC---BFC的原理及作用-</a></h3><div class="text-sm flex items-center space-x-5"><span class="flex items-center space-x-1"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentcolor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5A2 2 0 003 7v12a2 2 0 002 2z"/></svg><time>2022-04-16</time></span></div><div class="line-clamp-3 md:line-clamp-2 text-sm">原文见: https://www.cnblogs.com/libin-1/p/7098468.html 和 https://www.jianshu.com/p/acf76871d259
##BFC定义 在一个Web页面的CSS渲染中，块级格式化上下文 (Block Fromatting Context) 是按照块级盒子布局的。W3C对BFC的定义如下：
浮动元素和绝对定位元素，非块级盒子的块级容器（例如 inline-blocks, table-cells, 和 table-captions）， 以及overflow值不为“visiable”的块级盒子，都会为他们的内容创建新的BFC（块级格式上下文）。 一个HTML元素要创建BFC，则满足下列的任意一个或多个条件即可： 1、float的值不是none。 2、position的值不是static或者relative。 3、display的值是inline-block、table-cell、flex、table-caption或者inline-flex 4、overflow的值不是visible
BFC是一个独立的布局环境，其中的元素布局是不受外界的影响，并且在一个BFC中，块盒与行盒（行盒由一行中所有的内联元素所组成）都会垂直的沿着其父元素的边框排列。
##BFC的作用
######1. 清除内部浮动 我们在布局时经常会遇到这个问题：对子元素设置浮动后，父元素会发生高度塌陷，也就是父元素的高度变为0。 解决这个问题，只需要把把父元素变成一个BFC就行了。常用的办法是给父元素设置overflow:hidden。 ######2. 垂直margin合并 在CSS当中，相邻的两个盒子的外边距可以结合成一个单独的外边距。这种合并外边距的方式被称为折叠，并且因而所结合成的外边距称为折叠外边距。 折叠的结果： 两个相邻的外边距都是正数时，折叠结果是它们两者之间较大的值。 两个相邻的外边距都是负数时，折叠结果是两者绝对值的较大值。 两个外边距一正一负时，折叠结果是两者的相加的和。 这个同样可以利用BFC解决。关于原理在前文已经讲过了。
######3. 创建自适应两栏布局 在很多网站中，我们常看到这样的一种结构，左图片+右文字的两栏结构。</div></li><li class=space-y-2><h3><a href=https://zhujianghan.github.io/zjh-blog/posts/backend/%E5%A6%82%E4%BD%95%E5%87%8F%E5%B0%91-if---else----%E7%94%9A%E8%87%B3-switch-%E7%9A%84%E4%BD%BF%E7%94%A8/ class="text-lg font-bold">如何减少-if---else----甚至-switch-的使用</a></h3><div class="text-sm flex items-center space-x-5"><span class="flex items-center space-x-1"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentcolor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5A2 2 0 003 7v12a2 2 0 002 2z"/></svg><time>2022-04-16</time></span><ul class="flex items-center space-x-2"><li class="px-1 py-0.5 rounded text-white bg-emerald-500"><a href=https://zhujianghan.github.io/zjh-blog/tags/php>php</a></li></ul></div><div class="line-clamp-3 md:line-clamp-2 text-sm">需求: $str = '1,3,5'; // 变成 'abc,ghi,mno' $arr = [ [ 'id'=>1, 'name'=>'abc' ], [ 'id'=>2, 'name'=>'def' ], [ 'id'=>3, 'name'=>'ghi' ], [ 'id'=>4, 'name'=>'jkl' ], [ 'id'=>5, 'name'=>'mno' ], ]; 使用 if..else 或 switch 方法可以完成
现考虑不使用这两种方式作法:
思路: 把下面的 id 值作为键, name 值作为值, 重新构成一个数组 $arr2, 从 $str 中获取数字 如1, 使用 $arr2[&lsquo;1&rsquo;] 来获取对应的 name
php解法: // 1. 把当前 $arr 转成 目标数组 $arr2 $arr2 = []; foreach ($arr as $v) { $arr2[$v['id']] = $v['name']; } $str_to_arr = implode(',', $str);// [1,3,5] $str_to_arr = array_map(function(value){ return $arr2['value']; }) $str2 = join(',', $str_to_arr); JS 解法: js 只支持索引数组, 不支持关联数组, 但是 ES6 的 Map 对象支持任意的键或值 var str = '1,3,5'; var data = [ { id: 1, name: '中国' }, { id: 2, name: '美国' }, { id: 3, name: '日本' }, { id: 4, name: '韩国' }, { id: 5, name: '俄国' } ]; console.</div></li><li class=space-y-2><h3><a href=https://zhujianghan.github.io/zjh-blog/posts/backend/%E5%B8%9D%E5%9B%BDcmsv7-5-%E5%9C%A8%E5%86%85%E5%AE%B9%E6%A8%A1%E6%9D%BF%E4%B8%AD%E4%BD%BF%E7%94%A8-truetime-%E5%AD%97%E6%AE%B5/ class="text-lg font-bold">帝国cms(v7-5)-在内容模板中使用-truetime-字段</a></h3><div class="text-sm flex items-center space-x-5"><span class="flex items-center space-x-1"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentcolor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5A2 2 0 003 7v12a2 2 0 002 2z"/></svg><time>2022-04-16</time></span></div><div class="line-clamp-3 md:line-clamp-2 text-sm">truetime 是真实发布时间, 也就是后台 mysql 执行 insert 的时间; lastdotime 是真实更新时间, 也就是后台 mysql 执行 update 的时间; newstime 是发布时间, 由用户自定义, 在新增信息时, 表单中自行填写;
// 在模板中直接使用 $nvainfor 数组进行调用, 比如: &lt;br>navinfor[id]-&lt;?=$navinfor[id]?> &lt;br>navinfor[content]-&lt;?=$navinfor[content]?> &lt;br>navinfor[newstime]-&lt;?=$navinfor[newstime]?> &lt;br>navinfor[truetime]-&lt;?=$navinfor[truetime]?> &lt;br>navinfor[lastdotime]-&lt;?=$navinfor[lastdotime]?> ps: 使用 $navinfor 可以访问当前记录(1条)的全部字段信息, 使用 [!&ndash;id&ndash;] 方式只能访问到部分信息 见: http://www.phome.net/doc/manual/template/
原文见: http://www.phome.net/doc/manual/template/html/other.html#q17</div></li><li class=space-y-2><h3><a href=https://zhujianghan.github.io/zjh-blog/posts/backend/%E5%B8%9D%E5%9B%BDcms-1%E6%9D%A1%E4%BF%A1%E6%81%AF%E5%A6%82%E4%BD%95%E5%AE%9E%E7%8E%B0%E5%A4%9A%E4%B8%AA%E5%86%85%E5%AE%B9%E9%A1%B5--/ class="text-lg font-bold">帝国cms-1条信息如何实现多个内容页--</a></h3><div class="text-sm flex items-center space-x-5"><span class="flex items-center space-x-1"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentcolor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5A2 2 0 003 7v12a2 2 0 002 2z"/></svg><time>2022-04-16</time></span></div><div class="line-clamp-3 md:line-clamp-2 text-sm">需要如图: &lsquo;曲线救国&rsquo; 路线: 依然是一个内容页模板, 但是 聚集三个页面的内容, 比如分成三个 div, 通过js 默认第一个 div 显示, 另两个不显示, 然后点击哪个 div, 哪个 div 显示, 其它的隐藏</div></li><li class=space-y-2><h3><a href=https://zhujianghan.github.io/zjh-blog/posts/backend/%E4%B8%8D%E9%97%B4%E6%96%AD%E7%A9%BA%E6%A0%BC-none-breaking-space--u00a0/ class="text-lg font-bold">不间断空格-none-breaking-space-(-u00a0)</a></h3><div class="text-sm flex items-center space-x-5"><span class="flex items-center space-x-1"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentcolor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5A2 2 0 003 7v12a2 2 0 002 2z"/></svg><time>2022-04-16</time></span><ul class="flex items-center space-x-2"><li class="px-1 py-0.5 rounded text-white bg-emerald-500"><a href=https://zhujianghan.github.io/zjh-blog/tags/php>php</a></li></ul></div><div class="line-clamp-3 md:line-clamp-2 text-sm">从网上复制的一些文本可能含有特殊字符, 不间断空格(unicode 编码为 \u00a0)就是一种, 效果与 &rsquo; &rsquo; 普通空格类似, 但有不同. 不同: 对英文单词间使用普通空格, 会自动换行; 使用不间断空格连接的单词会被认为是一个单词而直接全部换到下一行, 这在 html 也是同样的效果. 在 php 中使用 普通空格替换 不间断空格的方式
$str = "a a a"; $str = str_replace(chr( 194 ) . chr( 160 ), " ", $str); 参考自stackoverflow</div></li><li class=space-y-2><h3><a href=https://zhujianghan.github.io/zjh-blog/posts/other/web2-0-%E5%92%8C-web1-0/ class="text-lg font-bold">web2-0-和-web1-0</a></h3><div class="text-sm flex items-center space-x-5"><span class="flex items-center space-x-1"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentcolor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5A2 2 0 003 7v12a2 2 0 002 2z"/></svg><time>2022-04-16</time></span></div><div class="line-clamp-3 md:line-clamp-2 text-sm">Web1.0 的主要特点在于用户通过浏览器获取信息。
Web2.0 则更注重用户的交互作用，用户既是网站内容的浏览者，也是网站内容的制造者。 所谓网站内容的制造者是说互联网上的每一个用户不再仅仅是互联网的读者，同时也成为互联网的作者；不再仅仅是在互联网上冲浪，同时也成为波浪制造者;在模式上由单纯的“读”向“写”以及“共同建设”发展；由被动地接收互联网信息向主动创造互联网信息发展，从而更加人性化</div></li><li class=space-y-2><h3><a href=https://zhujianghan.github.io/zjh-blog/posts/backend/vue-router-push-%E5%90%8E%E9%A1%B5%E9%9D%A2%E4%BD%8D%E7%BD%AE%E4%B8%8D%E6%98%AF%E5%9C%A8%E9%A1%B6%E9%83%A8/ class="text-lg font-bold">vue-router-push-后页面位置不是在顶部</a></h3><div class="text-sm flex items-center space-x-5"><span class="flex items-center space-x-1"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentcolor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5A2 2 0 003 7v12a2 2 0 002 2z"/></svg><time>2022-04-16</time></span></div><div class="line-clamp-3 md:line-clamp-2 text-sm">原文见: https://blog.csdn.net/M_SSY/article/details/82850517
解决办法: 在 router/index.js 中 new router 时, 加入如下代码
scrollBehavior(to, from, savedPosition) { return {x: 0, y: 0 } }</div></li><li class=space-y-2><h3><a href=https://zhujianghan.github.io/zjh-blog/posts/frontend/vue-nuxt-%E4%B8%AD-%E9%80%9A%E8%BF%87%E8%B7%AF%E7%94%B1%E6%9D%A5%E5%AE%9E%E7%8E%B0%E5%AF%BC%E8%88%AA%E9%AB%98%E4%BA%AE/ class="text-lg font-bold">vue-nuxt-中-通过路由来实现导航高亮</a></h3><div class="text-sm flex items-center space-x-5"><span class="flex items-center space-x-1"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentcolor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5A2 2 0 003 7v12a2 2 0 002 2z"/></svg><time>2022-04-16</time></span><ul class="flex items-center space-x-2"><li class="px-1 py-0.5 rounded text-white bg-emerald-500"><a href=https://zhujianghan.github.io/zjh-blog/tags/vue>vue</a></li></ul></div><div class="line-clamp-3 md:line-clamp-2 text-sm">首先在 mounted() 中判断了路由, 实现高亮, 后来发现刷新才有用, 直接 router.push 过去的链接则不生效 监听路由变化, 执行同样的判断 mounted() { this.initHighlight() }, watch: { "$route"() { this.initHighlight() } }, methods: { // 导航高亮 initHighlight() { if (this.$route.name == 'route1') { this.active_id = -2 } else if (this.$route.name == 'route2) { this.active_id = -1 } else if (this.$route.name == 'route3') { this.active_id = this.$route.params.navid } else { this.active_id = 0 } } } 参考自: segmentfault</div></li><li class=space-y-2><h3><a href=https://zhujianghan.github.io/zjh-blog/posts/frontend/vue-cli3-0-%E9%A1%B9%E7%9B%AE-%E5%85%A8%E5%B1%80-styl-%E6%A0%B7%E5%BC%8F%E5%9C%A8-app-vue-%E5%BC%95%E5%85%A5%E5%90%8E%E5%8F%98%E9%87%8F%E4%B8%8D%E7%94%9F%E6%95%88/ class="text-lg font-bold">vue-cli3-0-项目-全局-styl-样式在-App-vue-引入后变量不生效</a></h3><div class="text-sm flex items-center space-x-5"><span class="flex items-center space-x-1"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentcolor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5A2 2 0 003 7v12a2 2 0 002 2z"/></svg><time>2022-04-16</time></span><ul class="flex items-center space-x-2"><li class="px-1 py-0.5 rounded text-white bg-emerald-500"><a href=https://zhujianghan.github.io/zjh-blog/tags/vue>vue</a></li></ul></div><div class="line-clamp-3 md:line-clamp-2 text-sm">错误情况 在 assets 下新建 common.styl 样式, 在 App.vue 的 style 标签引入后. 在没有变量的情况下可以全局使用, 有变量时, 则变量不生效
解决办法 不需要在 App.vue 中引用 在 vue.config.js 中引用 module.exports = { css: { loaderOptions: { stylus: { 'resolve url': true, 'import': [ './src/theme', './src/assets/css/public/common' ] } } } }</div></li><li class=space-y-2><h3><a href=https://zhujianghan.github.io/zjh-blog/posts/server/virtualbox-centos7-7-nat-%E7%BD%91%E7%BB%9C%E8%BF%9E%E6%8E%A5-%E5%B9%B6%E4%BD%BF%E7%94%A8-ssh-%E8%BF%9E%E6%8E%A5/ class="text-lg font-bold">virtualbox-centos7-7-nat-网络连接-并使用-ssh-连接</a></h3><div class="text-sm flex items-center space-x-5"><span class="flex items-center space-x-1"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentcolor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5A2 2 0 003 7v12a2 2 0 002 2z"/></svg><time>2022-04-16</time></span><ul class="flex items-center space-x-2"><li class="px-1 py-0.5 rounded text-white bg-emerald-500"><a href=https://zhujianghan.github.io/zjh-blog/tags/linux>linux</a></li></ul></div><div class="line-clamp-3 md:line-clamp-2 text-sm">virtual 添加 nat 网络 虚拟机配置 nat 网络 centos 系统文件修改
cd /etc/sysconfig/network-scripts/ // 查找 ifcfg-enp... 文件并修改其中的 onboot 为 yes vi ifcfg-en0s3 // 修改后, 重启 network 服务, 并用 ping 或 curl 进行测试 service network restart ping www.baidu.com 虚拟机设置 xshell 连接 ssh -p root@127.0.0.1 2222
或
文件-新建-连接&mldr;.</div></li><li class=space-y-2><h3><a href=https://zhujianghan.github.io/zjh-blog/posts/server/ubuntu-%E6%B2%A1%E6%9C%89root%E9%BB%98%E8%AE%A4%E5%AF%86%E7%A0%81--/ class="text-lg font-bold">ubuntu-没有root默认密码--</a></h3><div class="text-sm flex items-center space-x-5"><span class="flex items-center space-x-1"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentcolor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5A2 2 0 003 7v12a2 2 0 002 2z"/></svg><time>2022-04-16</time></span><ul class="flex items-center space-x-2"><li class="px-1 py-0.5 rounded text-white bg-emerald-500"><a href=https://zhujianghan.github.io/zjh-blog/tags/linux>linux</a></li></ul></div><div class="line-clamp-3 md:line-clamp-2 text-sm">环境: vmware简易安装 ubuntu 版本 18.04 安装完成后 root 用户没有密码, 但是中途让添加过一个用户, 这个用户即有 sudo 权限
# 使用 `sudo passwd` 设置 root 的密码 # 使用 `su` 切换到 root 用户 How to Find/Change Ubuntu Default Root Password</div></li><li class=space-y-2><h3><a href=https://zhujianghan.github.io/zjh-blog/posts/backend/tp5-%E5%9C%A8%E6%A8%A1%E6%9D%BF%E6%88%96php%E6%96%87%E4%BB%B6%E4%B8%AD%E4%B8%AD%E8%8E%B7%E5%8F%96%E5%BD%93%E5%89%8D%E7%9A%84%E6%8E%A7%E5%88%B6%E5%99%A8%E5%90%8D/ class="text-lg font-bold">tp5-在模板(或php文件中)中获取当前的控制器名</a></h3><div class="text-sm flex items-center space-x-5"><span class="flex items-center space-x-1"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentcolor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5A2 2 0 003 7v12a2 2 0 002 2z"/></svg><time>2022-04-16</time></span></div><div class="line-clamp-3 md:line-clamp-2 text-sm"></div></li><li class=space-y-2><h3><a href=https://zhujianghan.github.io/zjh-blog/posts/backend/tp5-1-%E5%92%8C-laravel-%E4%B8%AD%E7%9A%84-facade-%E9%97%A8%E9%9D%A2/ class="text-lg font-bold">tp5-1-和-laravel-中的-facade-门面</a></h3><div class="text-sm flex items-center space-x-5"><span class="flex items-center space-x-1"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentcolor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5A2 2 0 003 7v12a2 2 0 002 2z"/></svg><time>2022-04-16</time></span><ul class="flex items-center space-x-2"><li class="px-1 py-0.5 rounded text-white bg-emerald-500"><a href=https://zhujianghan.github.io/zjh-blog/tags/php>php</a></li></ul></div><div class="line-clamp-3 md:line-clamp-2 text-sm">facade 的作用是把 类(动态)方法 当作 静态方法 使用; 简称 静态代理
&lt;?php class Demo { public function index(){ echo 'hello world'; // echo __METHOD__; } } class DemoFacade { public static function __callStatic($name, $arguments) { $demo = new Demo(); $demo->$name(); } } DemoFacade::index();// hello world</div></li><li class=space-y-2><h3><a href=https://zhujianghan.github.io/zjh-blog/posts/backend/tp5-1-%E7%9A%84%E4%BE%9D%E8%B5%96%E6%B3%A8%E5%85%A5-%E6%9C%8D%E5%8A%A1%E5%AE%B9%E5%99%A8-facade/ class="text-lg font-bold">tp5-1-的依赖注入,-服务容器,-facade</a></h3><div class="text-sm flex items-center space-x-5"><span class="flex items-center space-x-1"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentcolor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5A2 2 0 003 7v12a2 2 0 002 2z"/></svg><time>2022-04-16</time></span></div><div class="line-clamp-3 md:line-clamp-2 text-sm">在一个类中 实例化另外一个类, 就是依赖性强, 耦合度高, 在 tp5.1 中 可使用 依赖注入 来解耦 class A { public function hello(){ echo 'hello'; } } class B { public function sayHello(){ $a = new A(); $a->hello(); } } class C { // 依赖注入的用法 public function sayHello(A $a){ $a->hello(); } } 进一步使用 依赖容器 container 来解耦 容器就是一个装有各种类的对象的仓库, 然后通过 依赖容器 来实现对象的调用
最后还可以使用 facade 封装各个类(对象) 的方法, 形成对外的统一方法, 从而使用者(开发者) 无需关心调用的是哪个类的哪个方法, ( 而统一使用的是 facade 类的方法)</div></li><li class=space-y-2><h3><a href=https://zhujianghan.github.io/zjh-blog/posts/backend/tp5-0-%E4%B8%AD%E7%9A%84-volist-%E4%B8%AD%E7%9A%84%E5%BE%AA%E7%8E%AF%E5%8F%98%E9%87%8F-i/ class="text-lg font-bold">tp5-0-中的-volist-中的循环变量-$i</a></h3><div class="text-sm flex items-center space-x-5"><span class="flex items-center space-x-1"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentcolor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5A2 2 0 003 7v12a2 2 0 002 2z"/></svg><time>2022-04-16</time></span></div><div class="line-clamp-3 md:line-clamp-2 text-sm">// 输出循环变量： {volist name="list" id="vo" key="k" } {$k}.{$vo.name} {/volist} //如果没有指定key属性的话，默认使用循环变量i，例如： {volist name="list" id="vo" } {$i}.{$vo.name} {/volist} -这里的索引是从 1 开始的, 而不是从 0 开始</div></li><li class=space-y-2><h3><a href=https://zhujianghan.github.io/zjh-blog/posts/backend/thinkphp5-0-%E8%A7%A3%E5%86%B3%E8%B7%A8%E5%9F%9F/ class="text-lg font-bold">thinkphp5-0-解决跨域</a></h3><div class="text-sm flex items-center space-x-5"><span class="flex items-center space-x-1"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentcolor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5A2 2 0 003 7v12a2 2 0 002 2z"/></svg><time>2022-04-16</time></span></div><div class="line-clamp-3 md:line-clamp-2 text-sm">在 public/index.php 中加入
header("Access-Control-Allow-Origin:*"); header("Access-Control-Allow-Credentials: true"); header("Access-Control-Allow-Methods:GET, POST, OPTIONS, DELETE"); header("Access-Control-Allow-Headers:Request-Timestamp,Access-Token,Refresh-Token,Access-Control-Allow-Origin,DNT,X-Mx-ReqToken,Keep-Alive,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type, Accept-Language, Origin, Accept-Encoding"); if(strtolower($_SERVER['REQUEST_METHOD']) === 'options'){ exit; } 貌似 tp5.1 中路由可以设置允许跨域
Route::get('new/:id', 'News/read') ->ext('html') ->allowCrossDomain();</div></li><li class=space-y-2><h3><a href=https://zhujianghan.github.io/zjh-blog/posts/other/test/ class="text-lg font-bold">test</a></h3><div class="text-sm flex items-center space-x-5"><span class="flex items-center space-x-1"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentcolor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5A2 2 0 003 7v12a2 2 0 002 2z"/></svg><time>2022-04-16</time></span></div><div class="line-clamp-3 md:line-clamp-2 text-sm">第一章 人力资源服务业发展与变革 1. 人力资源服务业概念与特性 概念: 人力资源服务业是为劳动者就业和职业发展，为用人单位管理和开发人力资源提供相关服务的专门行业。是现代服务业中商务服务业的重要组成部分 主要载体: 人力资源公共服务和人力资源经营性服务 行业特性: 基础性、引领性、成长性 2. 人力资源服务业态 求职超聘服务 招聘洽谈会 信息网络服务 高级人才寻访 取业指导服务 素质测评服务 培训服务 人力资源管理咨询服务 流动人员人事枯*管理服务 人力资源外包服务 券务派造 3. 人力资源服务业发供四十年 1979-1992 市场萌芽期
1993-2006 生态开展期
2007-2012 业态形成期
两部合并
2013-至今 创新活跃期
4. 人力资源服务业发展的三大标志 2011年，国家统计局《国民经济行业分奏》 （CB/T4754-2011）首次在“商务服务业” 中列出人力资源服务业。
2018年，习近平总书记在十九大报告中提出“着力加快建设实体经济，科技创新、现代金融、人力资源协同发供的产业体系”，并且强调“在中高端消费、创新引领，绿色低碳、共享经济、现代供应德、人力资本服务等领城培育新增长点、形成新动能。”人力资源第一次成为国家重点关注的行业领城。
2019年10月30日，国家发很和改革委员会修订发布了《产业结构调整指导日录》2019年本，废止2011年本。首次将人力资源和人力资源服务业（第46奏）作为鼓砌奏单独到出。 5. 人力资源服务业数据 人社部公布数据，载至2019年底：
全国共有各卖人力资源服务机构3.96万家； 全年行业总营收1.96万亿元； 共帮助2.55亿人次实现就业择业和流动； 为4211万家用人单位提供了服务。 人力资源服务业营业总收: 2019年较2010年增长17倍
6. 人力资源服务地方标谁、评级及诚信经营 2007年企业标谁 2008年此京市人才服务地方标谁 2013年此京市人力资源服务地方标准 2018年京津冀区域协同地方标谁 《人力资绿服务规范》 DB11/T3008-2018 《人力资源服务机构等级划分与评定》 DB11/T3009-2018 7. 北京市促进行业发展的有关政策简介 《关于进一步发挥猎头机构引才融智作用建设专 业化和国际化人力资源市场的若干措施（试行）》
加强猎头机构人才队伍建设。 引导猎头机构为我市政府机关、事业单位，金些和社会组织子各奏用人单位提供精准服务，给予精谁化引才势励。 推选猎夫机构集约化发表。 拓宽猎头机构融资渠道。 推动猎头机构技水和服务创新。 提升猎头机构对外开放水平。 打选猎头机构优质服务品牌。 引导建立错头行业联盟。 加强猎头机构诚信体系建设。 简化行政许可流程。 关于2020年使用猎头机构导访人才及奖励介绍</div></li><li class=space-y-2><h3><a href=https://zhujianghan.github.io/zjh-blog/posts/backend/supervisor-unix----tmp-supervisor-sock-no-such-file/ class="text-lg font-bold">supervisor-unix----tmp-supervisor-sock-no-such-file</a></h3><div class="text-sm flex items-center space-x-5"><span class="flex items-center space-x-1"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentcolor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5A2 2 0 003 7v12a2 2 0 002 2z"/></svg><time>2022-04-16</time></span><ul class="flex items-center space-x-2"><li class="px-1 py-0.5 rounded text-white bg-emerald-500"><a href=https://zhujianghan.github.io/zjh-blog/tags/go>go</a></li></ul></div><div class="line-clamp-3 md:line-clamp-2 text-sm">[root@iZm5e09hymnzdmgx3964zgZ etc]# cat -n supervisord.conf | grep /tmp -- 22 [unix_http_server] 23 ;file=/tmp/supervisor.sock ; the path to the socket file 24 file=/var/run/supervisor.sock ; the path to the socket file -- 45 [supervisord] 46 ;logfile=/tmp/supervisord.log ; main log file; default $CWD/supervisord.log 47 logfile=/var/log/supervisord.log ; main log file; default $CWD/supervisord.log -- 50 loglevel=info ; log level; default info; others: debug,warn,trace 51 ;pidfile=/tmp/supervisord.pid ; supervisord pidfile; default supervisord.pid 52 pidfile=/var/run/supervisord.pid ; supervisord pidfile; default supervisord.</div></li><li class=space-y-2><h3><a href=https://zhujianghan.github.io/zjh-blog/posts/frontend/position--fixed-%E6%9C%89%E6%97%B6%E5%80%99%E4%BC%9A%E5%A4%B1%E6%95%88/ class="text-lg font-bold">position--fixed-有时候会失效</a></h3><div class="text-sm flex items-center space-x-5"><span class="flex items-center space-x-1"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentcolor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5A2 2 0 003 7v12a2 2 0 002 2z"/></svg><time>2022-04-16</time></span></div><div class="line-clamp-3 md:line-clamp-2 text-sm">当父(祖)元素使用了 transform 后, 当前元素的 position 会发生改变, 其参照父元素进行定位, 而非 window 窗口
参见: https://www.jianshu.com/p/4f77fa62e14b</div></li><li class=space-y-2><h3><a href=https://zhujianghan.github.io/zjh-blog/posts/backend/php%E4%B8%AD-utf-8-%E8%BF%98%E6%98%AF-utf8--/ class="text-lg font-bold">php中-utf-8-还是-utf8--</a></h3><div class="text-sm flex items-center space-x-5"><span class="flex items-center space-x-1"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentcolor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5A2 2 0 003 7v12a2 2 0 002 2z"/></svg><time>2022-04-16</time></span><ul class="flex items-center space-x-2"><li class="px-1 py-0.5 rounded text-white bg-emerald-500"><a href=https://zhujianghan.github.io/zjh-blog/tags/php>php</a></li></ul></div><div class="line-clamp-3 md:line-clamp-2 text-sm">utf8、utf-8 和 UTF-8 的区别如下：
一、“UTF-8”这是标准写法，在PHP和HTML中设置编码，统一写成“UTF-8”。 举例： PHP中 —— HTML中　——　二、“utf8”、“utf-8”和“UTF8”只是在window中不区分大小写的写法而已，一般程序能识别，但也有例外。例如简写的“UTF8”或“utf8”在ie浏览器里不识别。
三、数据库命令模式中，必须写成“utf8”，因为MySQL的命令模式中只能识别“utf8”，比如：PHP程序中可以写： 结论：MySQL操作使用“utf8” 【mysql_query(set names utf8)】，其他一律使用“UTF-8”。
原文见: https://blog.csdn.net/ahjxhy2010/article/details/79722997</div></li><li class=space-y-2><h3><a href=https://zhujianghan.github.io/zjh-blog/posts/other/phpstorm-%E8%BF%9E%E6%8E%A5-mysql5-7/ class="text-lg font-bold">phpstorm-连接-mysql5-7</a></h3><div class="text-sm flex items-center space-x-5"><span class="flex items-center space-x-1"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentcolor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5A2 2 0 003 7v12a2 2 0 002 2z"/></svg><time>2022-04-16</time></span></div><div class="line-clamp-3 md:line-clamp-2 text-sm">连接 mysql5.6 没有问题, 但是连接 mysql5.7 就会报 [08S01] Communications link failure The last packet sent successfully to &mldr;
需要把 useSSL 改为 false
参考: https://blog.csdn.net/baofeidyz/article/details/54344359</div></li><li class=space-y-2><h3><a href=https://zhujianghan.github.io/zjh-blog/posts/backend/phpoffice---phpword-%E5%86%99%E5%85%A5%E6%96%87%E4%BB%B6%E4%B8%8D%E5%8F%AF%E6%89%93%E5%BC%80/ class="text-lg font-bold">phpoffice---phpword-写入文件不可打开</a></h3><div class="text-sm flex items-center space-x-5"><span class="flex items-center space-x-1"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentcolor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5A2 2 0 003 7v12a2 2 0 002 2z"/></svg><time>2022-04-16</time></span><ul class="flex items-center space-x-2"><li class="px-1 py-0.5 rounded text-white bg-emerald-500"><a href=https://zhujianghan.github.io/zjh-blog/tags/php>php</a></li></ul></div><div class="line-clamp-3 md:line-clamp-2 text-sm">使用 phpword 的模板写入字符串时, 最后生成的文件打开失败.
这可能是因为 写入的文件内容没有 做 htmlspecialchars 处理, 而 docx 的 xml 不允许 &, &lsquo;, &ldquo;, &lt;, > 字符, 这几样需要进行转义处理.</div></li><li class=space-y-2><h3><a href=https://zhujianghan.github.io/zjh-blog/posts/backend/php-%E9%87%8D%E5%86%99override-%E8%A6%86%E7%9B%96-%E5%92%8C-%E9%87%8D%E8%BD%BDoverload/ class="text-lg font-bold">php-重写(override,-覆盖)-和-重载(overload)</a></h3><div class="text-sm flex items-center space-x-5"><span class="flex items-center space-x-1"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentcolor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5A2 2 0 003 7v12a2 2 0 002 2z"/></svg><time>2022-04-16</time></span><ul class="flex items-center space-x-2"><li class="px-1 py-0.5 rounded text-white bg-emerald-500"><a href=https://zhujianghan.github.io/zjh-blog/tags/php>php</a></li></ul></div><div class="line-clamp-3 md:line-clamp-2 text-sm">重写: 子类继承父类时, 重写了方法 重载: 传统意义上的重载(如java), 指一个类中存在多个同名的方法, 但接收参数不一样, php 不支持这样的写法 php 提供的 overloading(重载), 指的是 动态地创建类属性和方法, 通过 魔术方法 来实现</div></li><li class=space-y-2><h3><a href=https://zhujianghan.github.io/zjh-blog/posts/backend/php-%E5%9B%BE%E7%89%87%E5%A4%84%E7%90%86%E6%89%A9%E5%B1%95%E5%8C%85-intervention-image-%E5%9C%A8-win-%E4%B8%AD%E4%BD%BF%E7%94%A8%E9%81%87%E5%88%B0%E9%97%AE%E9%A2%98/ class="text-lg font-bold">php-图片处理扩展包-intervention-image-在-win-中使用遇到问题</a></h3><div class="text-sm flex items-center space-x-5"><span class="flex items-center space-x-1"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentcolor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5A2 2 0 003 7v12a2 2 0 002 2z"/></svg><time>2022-04-16</time></span></div><div class="line-clamp-3 md:line-clamp-2 text-sm">环境: laravel-admin + laragon 使用 intervention/image 时, 报错 : encodeing format(tmp) is not suppoerted 原因: intervention/image 这个包不与 windows 兼容 临时解决办法: 修改 包文件 AbstractEncoder.php 原文见 github laravel-admin issue</div></li><li class=space-y-2><h3><a href=https://zhujianghan.github.io/zjh-blog/posts/backend/php-%E4%B8%89%E5%A4%A7%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F--%E5%8D%95%E4%BE%8B%E5%B7%A5%E5%8E%82%E6%B3%A8%E5%86%8C%E6%A0%91/ class="text-lg font-bold">PHP-三大设计模式--单例&工厂&注册树</a></h3><div class="text-sm flex items-center space-x-5"><span class="flex items-center space-x-1"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentcolor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5A2 2 0 003 7v12a2 2 0 002 2z"/></svg><time>2022-04-16</time></span></div><div class="line-clamp-3 md:line-clamp-2 text-sm">&lt;?php // 单例模式(三私一公) class Site{ protected static $_instance; protected function __construct(){ return self::$_instance; } protected function __clone(){ } public static function getSingleton(){ if(! (self::$_instance instanceof self)){ self::$_instance = new self(); } return self::$_instance; } } // 工厂模式 class Factory{ public static function create($className){ return $className::getSingleton(); } } // 注册树模式 class Container{ protected static $object = []; public static function set($alias, $obj){ self::$object[$alias] = $obj; } public static function get($alias){ return self::$object[$alias]; } public static function _unset($alias){ unset(self::$object[$alias]); } Container::set('site', Factory::create('Site'));// 把单一对象实例挂到注册树上 $site = Container::get('site');// 从注册树中获取对象</div></li><li class=space-y-2><h3><a href=https://zhujianghan.github.io/zjh-blog/posts/backend/php-%E7%B1%BB%E6%96%B9%E6%B3%95%E7%9A%84%E8%BF%9E%E6%8E%A5%E8%B0%83%E7%94%A8-this--where--select/ class="text-lg font-bold">php-类方法的连接调用-$this--where()--select()</a></h3><div class="text-sm flex items-center space-x-5"><span class="flex items-center space-x-1"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentcolor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5A2 2 0 003 7v12a2 2 0 002 2z"/></svg><time>2022-04-16</time></span><ul class="flex items-center space-x-2"><li class="px-1 py-0.5 rounded text-white bg-emerald-500"><a href=https://zhujianghan.github.io/zjh-blog/tags/php>php</a></li></ul></div><div class="line-clamp-3 md:line-clamp-2 text-sm">这种类方法最后都返回了 $this, 从而能连续调用;
至于中间的方法, 通过类属性将值保存起来, 可供后续方法继续使用</div></li><li class=space-y-2><h3><a href=https://zhujianghan.github.io/zjh-blog/posts/backend/notes--%E5%9F%BA%E4%BA%8E-composer-%E7%9A%84-php-%E6%A8%A1%E5%9D%97%E5%8C%96%E5%BC%80%E5%8F%91/ class="text-lg font-bold">notes--基于-Composer-的-PHP-模块化开发</a></h3><div class="text-sm flex items-center space-x-5"><span class="flex items-center space-x-1"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentcolor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5A2 2 0 003 7v12a2 2 0 002 2z"/></svg><time>2022-04-16</time></span><ul class="flex items-center space-x-2"><li class="px-1 py-0.5 rounded text-white bg-emerald-500"><a href=https://zhujianghan.github.io/zjh-blog/tags/php>php</a></li></ul></div><div class="line-clamp-3 md:line-clamp-2 text-sm">笔记来源 overtrue: 基于 Composer 的 PHP 模块化开发
1. what & why composer 是 php 版本的版本控制工具, 如 js 里的 npm, go 里的 mod.
1.1 composer.json 的组成 基础字段 name, description, keywords, license 依赖 require, require-dev 自动加载: autoload, autoload-dev PSR-4 PSR-0 classmate files 其它 scripts, minimum-stability, bin, repositories, support, config 其中, 若是一个项目, name 表示 project name, 若是一个包, name 表示 package name
在没有 composer 之前, 靠人工复制粘贴代码, 存在代码安全及 repeat yourself 的问题
1.2 版本号的组成 Major.Minor.Patch
major: 大的功能变更, 不向后兼容 minor: 新增功能, 向后兼容 patch: 补丁, 向后兼容, 修复 bug 1.</div></li><li class=space-y-2><h3><a href=https://zhujianghan.github.io/zjh-blog/posts/other/mysql%E4%B8%AD-date_adddateinterval-type/ class="text-lg font-bold">mysql中 date_add(date,interval type)</a></h3><div class="text-sm flex items-center space-x-5"><span class="flex items-center space-x-1"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentcolor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5A2 2 0 003 7v12a2 2 0 002 2z"/></svg><time>2022-04-16</time></span></div><div class="line-clamp-3 md:line-clamp-2 text-sm">mysql中 date_add(date,interval type) 中, date类型不能为"时间戳"</div></li><li class=space-y-2><h3><a href=https://zhujianghan.github.io/zjh-blog/posts/backend/middleware-gin-contrib-cors-%E5%9C%A8-301-%E6%97%B6%E5%A4%B1%E6%95%88/ class="text-lg font-bold">middleware-gin-contrib-cors-在-301-时失效</a></h3><div class="text-sm flex items-center space-x-5"><span class="flex items-center space-x-1"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentcolor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5A2 2 0 003 7v12a2 2 0 002 2z"/></svg><time>2022-04-16</time></span><ul class="flex items-center space-x-2"><li class="px-1 py-0.5 rounded text-white bg-emerald-500"><a href=https://zhujianghan.github.io/zjh-blog/tags/go>go</a></li></ul></div><div class="line-clamp-3 md:line-clamp-2 text-sm">背景: gin 配置了路由 router.GET("/api/users") , 添加了 cors 中间件, 但是访问 /api/users/ 时, 会返回 301 + cros 错误
原因: gin 默认打开 &ldquo;RedirectTrailingSlash&rdquo;, 表示自动添加(或删除) &ldquo;/&rdquo; 并作 301 跳转, 这时候还未进入 middleware, 所以 cors 中间件所添加的 header 不会出现在返回头中.
中间件其它现象:
c.Header("before-next": "can-be-show") // 会写入到返回头 c.next() c.Header("after-next": "won't be returned") // 不会出现在返回头中 解决办法:
在 gin 路由中同时添加 带 / 和不带 / 的路由, 工作量大, 且 ugly ❌ 使用 nginx 在 go-web 程序外部直接全部带上 cors 头 ✅</div></li><li class=space-y-2><h3><a href=https://zhujianghan.github.io/zjh-blog/posts/frontend/localstorage-setitem-%E5%AD%98%E5%85%A5%E7%9A%84%E6%98%AF-string/ class="text-lg font-bold">localStorage-setItem()-存入的是-string</a></h3><div class="text-sm flex items-center space-x-5"><span class="flex items-center space-x-1"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentcolor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5A2 2 0 003 7v12a2 2 0 002 2z"/></svg><time>2022-04-16</time></span></div><div class="line-clamp-3 md:line-clamp-2 text-sm">localStorage.setItem('flag', 0) // 存入 int let a= localStorage.getItem('flag') // 取出的是 string '0' console.log(typeof(a)) // string</div></li><li class=space-y-2><h3><a href=https://zhujianghan.github.io/zjh-blog/posts/server/linux-ssh-%E7%AB%AF%E5%8F%A3%E6%9B%B4%E6%94%B9-%E5%8F%8A-ip-%E9%99%90%E5%88%B6--rsa-%E7%99%BB%E5%BD%95/ class="text-lg font-bold">linux-ssh-端口更改-及-ip-限制-&-rsa-登录</a></h3><div class="text-sm flex items-center space-x-5"><span class="flex items-center space-x-1"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentcolor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5A2 2 0 003 7v12a2 2 0 002 2z"/></svg><time>2022-04-16</time></span><ul class="flex items-center space-x-2"><li class="px-1 py-0.5 rounded text-white bg-emerald-500"><a href=https://zhujianghan.github.io/zjh-blog/tags/linux>linux</a></li></ul></div><div class="line-clamp-3 md:line-clamp-2 text-sm">原文见 cnblog: 修改linux的ssh默认端口号22的方法 rsa 参考
一、修改配置文件 vi /etc/ssh/sshd_config
找到#Port 22
修改为自己要使用的端口号：Port 26000
然后 :x 退出保存
二、重启ssh服务 /etc/init.d./sshd restart 如果还要设置防火墙，配置：vi /etc/sysconfig/iptables
启用26000端口：/etc/init.d/iptables restart
三、如果要显示固定IP才能登陆： 1.修改 /etc/hosts.deny, 加入一行sshd:ALL &ndash;#意思是任何ip都不能登陆
2.然后修改：/etc/hosts.allow,在其中进行如下设置:sshd:192.168.0.241:allow &ndash;#意思是只允许192.168.0.241登陆
四、rsa 密钥对登录 client 执行以下命令生成密钥对 (~/.ssh) ssh-keygen -t rsa 把 is_rsa.pub 复制到服务器的 ~/.ssh/authorized_keys 文件后面 配置 /etc/ssh/sshd_config RSAAuthentication yes PubkeyAuthentication yes AuthorizedKeysFile .ssh/authorized_keys service sshd restart</div></li><li class=space-y-2><h3><a href=https://zhujianghan.github.io/zjh-blog/posts/backend/laravel5-5+-package-auto-discovery-%E5%8C%85%E8%87%AA%E5%8A%A8%E5%8F%91%E7%8E%B0/ class="text-lg font-bold">laravel5-5+-Package-Auto-Discovery-包自动发现</a></h3><div class="text-sm flex items-center space-x-5"><span class="flex items-center space-x-1"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentcolor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5A2 2 0 003 7v12a2 2 0 002 2z"/></svg><time>2022-04-16</time></span></div><div class="line-clamp-3 md:line-clamp-2 text-sm">转载自原文
一切的起源都是来自 composer.json ,在使用 composer 的时候，你可以在 post-autoload-dump 部分指定你想执行的脚本，比如在 Laravel 5.5 的时候，我们可以看到这样的定义：
"scripts": { "post-autoload-dump": [ "Illuminate\\Foundation\\ComposerScripts::postAutoloadDump", "@php artisan package:discover --ansi" ], ... } 对于 postAutoloadDump 是很熟悉了，Laravel 之前的版本基本都有，它的工作是清理一些缓存，删除一些旧的文件。
我们的关注重点是 @php artisan package:discover ，也就是会执行 @php artisan package:discover 这个命令。
这个命令是干嘛的呢？它其实是位于Illuminate\Foundation\Console\PackageDiscoverCommand 中，主要是通过执行Illuminate\Foundation\PackageManifest 的 build() 方法来达到 发现 package 的目的。
而 PackageManifest 早就注册在 Laravel 的 Container 中，那么它可以保证每次在启动 Laravel 的时候都能使用 PackageManifest 的 build() 方法，这个 build() 方法主要的逻辑就是：
找寻 vendor/composer/installed.json 这个文件，这个文件是 composer 自己生成的，记录着每一次的 composer autoload 的 class map。
而此时，Laravel 又将这些内容映射到 extra.</div></li><li class=space-y-2><h3><a href=https://zhujianghan.github.io/zjh-blog/posts/backend/laravel-%E5%AE%9A%E6%97%B6%E4%BB%BB%E5%8A%A1%E4%B8%8D%E6%89%A7%E8%A1%8C%E4%BA%86--/ class="text-lg font-bold">laravel-定时任务不执行了--</a></h3><div class="text-sm flex items-center space-x-5"><span class="flex items-center space-x-1"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentcolor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5A2 2 0 003 7v12a2 2 0 002 2z"/></svg><time>2022-04-16</time></span></div><div class="line-clamp-3 md:line-clamp-2 text-sm">linux 服务端使用 pm2 开启 php artisan queue:work 守护进程, 突然 队列不工作了.
原因可能是 代码更新后, 没有重启 任务, 所以 pm2 reload 0 即可</div></li><li class=space-y-2><h3><a href=https://zhujianghan.github.io/zjh-blog/posts/backend/laravel-migration-integrity-constraint-violation-/ class="text-lg font-bold">laravel-migration-`Integrity-constraint-violation-`</a></h3><div class="text-sm flex items-center space-x-5"><span class="flex items-center space-x-1"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentcolor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5A2 2 0 003 7v12a2 2 0 002 2z"/></svg><time>2022-04-16</time></span></div><div class="line-clamp-3 md:line-clamp-2 text-sm">原因不是 约束的 key 重复了, 而是数据库中已存在数据, 且该字段重复了</div></li><li class=space-y-2><h3><a href=https://zhujianghan.github.io/zjh-blog/posts/backend/laravel-factory--make---create-%E7%9A%84%E5%8C%BA%E5%88%AB/ class="text-lg font-bold">laravel-factory()--make()---create()-的区别</a></h3><div class="text-sm flex items-center space-x-5"><span class="flex items-center space-x-1"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentcolor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5A2 2 0 003 7v12a2 2 0 002 2z"/></svg><time>2022-04-16</time></span></div><div class="line-clamp-3 md:line-clamp-2 text-sm">相同点: 都是生成模型的实例
不同点: create() 同时执行了 save()方法, 保存到了数据库中; make() 只生成了模型实例</div></li><li class=space-y-2><h3><a href=https://zhujianghan.github.io/zjh-blog/posts/backend/laravel-dispatch-%E5%BC%82%E6%AD%A5%E4%BB%BB%E5%8A%A1%E8%80%97%E6%97%B6%E9%95%BF--/ class="text-lg font-bold">laravel-dispatch()-异步任务耗时长--</a></h3><div class="text-sm flex items-center space-x-5"><span class="flex items-center space-x-1"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentcolor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5A2 2 0 003 7v12a2 2 0 002 2z"/></svg><time>2022-04-16</time></span></div><div class="line-clamp-3 md:line-clamp-2 text-sm">在控制器中使用 This->dispatch(new Job()) 后, 接口依然耗时长.
原因是 job 类中 __contruct() 方法里操作过多(请求api等), 这一步是同步进行的. 真正 异步 执行的是 Job 类中的 handle() 方法</div></li><li class=space-y-2><h3><a href=https://zhujianghan.github.io/zjh-blog/posts/backend/json-unmarshal-%E5%A6%82%E4%BD%95%E8%8E%B7%E5%8F%96-null/ class="text-lg font-bold">json-Unmarshal-如何获取-null</a></h3><div class="text-sm flex items-center space-x-5"><span class="flex items-center space-x-1"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentcolor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5A2 2 0 003 7v12a2 2 0 002 2z"/></svg><time>2022-04-16</time></span><ul class="flex items-center space-x-2"><li class="px-1 py-0.5 rounded text-white bg-emerald-500"><a href=https://zhujianghan.github.io/zjh-blog/tags/go>go</a></li></ul></div><div class="line-clamp-3 md:line-clamp-2 text-sm">对于如下 json 和 struct, 会将 gender 解析为 false, 而实际上应为 nil, 则需要 将 struct 中的 bool 类型转为 *bool 类型
{ "name": "Jim Green", "age": 15, "gender": null } type Student struct { Name string `json:"name"` Age int `json:"age"` Name bool `json:"gender"` } 因为在 go 中指针不可以进行运算, 只能引用 对于 *bool 类型的变量, 不能直接赋值 如
var gender *bool *gender = true // panic: runtime error: invalid memory address or nil pointer dereference 而应该对非指针类型赋值, 再引用指针
var gender *bool tempGender := true gender = &tempGender</div></li><li class=space-y-2><h3><a href=https://zhujianghan.github.io/zjh-blog/posts/frontend/js-%E6%95%B0%E7%BB%84-for----in---%E4%B8%AD%E7%9A%84-key-%E8%BF%94%E5%9B%9E%E7%9A%84%E6%98%AF-string/ class="text-lg font-bold">js-数组-for----in---中的-key-返回的是-string</a></h3><div class="text-sm flex items-center space-x-5"><span class="flex items-center space-x-1"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentcolor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5A2 2 0 003 7v12a2 2 0 002 2z"/></svg><time>2022-04-16</time></span></div><div class="line-clamp-3 md:line-clamp-2 text-sm">js 数组 for&mldr; in.. 中的 key 返回的是 string</div></li><li class=space-y-2><h3><a href=https://zhujianghan.github.io/zjh-blog/posts/backend/js-%E7%9A%84%E9%81%8D%E5%8E%86/ class="text-lg font-bold">js-的遍历</a></h3><div class="text-sm flex items-center space-x-5"><span class="flex items-center space-x-1"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentcolor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5A2 2 0 003 7v12a2 2 0 002 2z"/></svg><time>2022-04-16</time></span></div><div class="line-clamp-3 md:line-clamp-2 text-sm"></div></li><li class=space-y-2><h3><a href=https://zhujianghan.github.io/zjh-blog/posts/other/id-heroku-com-%E6%89%93%E4%B8%8D%E5%BC%80/ class="text-lg font-bold">id-heroku-com-打不开</a></h3><div class="text-sm flex items-center space-x-5"><span class="flex items-center space-x-1"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentcolor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5A2 2 0 003 7v12a2 2 0 002 2z"/></svg><time>2022-04-16</time></span></div><div class="line-clamp-3 md:line-clamp-2 text-sm">搭梯子**后依然打不开 换了几个 dns 也不行
使用 https://www.ultratools.com/tools/ipWhoisLookupResult](https://www.ultratools.com/tools/ipWhoisLookupResult) 添加到 本地 host 文件中即可访问</div></li><li class=space-y-2><h3><a href=https://zhujianghan.github.io/zjh-blog/posts/frontend/html%E4%B8%AD%E7%9A%84%E5%8F%8B%E6%83%85%E9%93%BE%E6%8E%A5%E4%B8%8D%E8%A2%AB%E7%88%B1%E7%AB%99%E5%92%8C%E7%AB%99%E9%95%BF%E5%B7%A5%E5%85%B7%E7%9A%84%E5%8F%8B%E9%93%BE%E6%94%B6%E5%BD%95-/ class="text-lg font-bold">html中的友情链接不被`爱站`和`站长工具`的友链收录-</a></h3><div class="text-sm flex items-center space-x-5"><span class="flex items-center space-x-1"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentcolor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5A2 2 0 003 7v12a2 2 0 002 2z"/></svg><time>2022-04-16</time></span></div><div class="line-clamp-3 md:line-clamp-2 text-sm">百度上原因说可能是 服务器开启了硬件防火墙;
自己遇到的是部署在虚拟主机上的项目, 不涉及硬件防火墙; 打开网页源代码, 发现友情链接为空, 原来是通过ajax传递过来的友情链接, 换成非ajax即可被正常收录</div></li><li class=space-y-2><h3><a href=https://zhujianghan.github.io/zjh-blog/posts/frontend/html-%E5%AD%97%E4%BD%93%E5%A4%A7%E5%B0%8F-font-size-%E4%B8%8D%E4%B8%80%E8%87%B3%E6%97%B6%E7%9A%84%E5%9E%82%E7%9B%B4%E5%AF%B9%E9%BD%90%E9%97%AE%E9%A2%98/ class="text-lg font-bold">html-字体大小-font-size-不一至时的垂直对齐问题</a></h3><div class="text-sm flex items-center space-x-5"><span class="flex items-center space-x-1"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentcolor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5A2 2 0 003 7v12a2 2 0 002 2z"/></svg><time>2022-04-16</time></span></div><div class="line-clamp-3 md:line-clamp-2 text-sm">Xx, 就如 Xx , 默认是文本底部对齐, 设置父元素的 text-align:middle; 可以令文本完全垂直对齐
原文见: https://blog.csdn.net/qq_30541261/article/details/79754478</div></li><li class=space-y-2><h3><a href=https://zhujianghan.github.io/zjh-blog/posts/backend/guzzle-http-post-json/ class="text-lg font-bold">guzzle-http-post-(json)</a></h3><div class="text-sm flex items-center space-x-5"><span class="flex items-center space-x-1"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentcolor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5A2 2 0 003 7v12a2 2 0 002 2z"/></svg><time>2022-04-16</time></span><ul class="flex items-center space-x-2"><li class="px-1 py-0.5 rounded text-white bg-emerald-500"><a href=https://zhujianghan.github.io/zjh-blog/tags/php>php</a></li></ul></div><div class="line-clamp-3 md:line-clamp-2 text-sm">$client = new \GuzzleHttp\Client(); $response = $client->post('http://xxx.com/api/login', [ 'json' => [ 'phone' => "152xxxx1234", 'password' => "123456", ] ]); $response = $client->post('http://xxx.com/api/login', [ 'form_params' => [ 'phone' => "152xxxx1234", 'password' => 123456, ] ]); 若使用 json, 则 数组中的值(不论是否数字), 都要用 引号 起来, 而 form_params 则不需要
reference</div></li><li class=space-y-2><h3><a href=https://zhujianghan.github.io/zjh-blog/posts/backend/go-%E9%80%9A%E7%94%A8-http-client-%E8%AF%B7%E6%B1%82%E5%A4%B4/ class="text-lg font-bold">go-通用-http-client-请求头</a></h3><div class="text-sm flex items-center space-x-5"><span class="flex items-center space-x-1"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentcolor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5A2 2 0 003 7v12a2 2 0 002 2z"/></svg><time>2022-04-16</time></span><ul class="flex items-center space-x-2"><li class="px-1 py-0.5 rounded text-white bg-emerald-500"><a href=https://zhujianghan.github.io/zjh-blog/tags/go>go</a></li></ul></div><div class="line-clamp-3 md:line-clamp-2 text-sm">参考stackoverflow: adding-a-default-http-header-in-go
package main import ( "fmt" "net/http" "time" ) const accessToken = "MY_DEMO_TOKEN" type MyRoundTripper struct { r http.RoundTripper } func (mrt MyRoundTripper) RoundTrip(r *http.Request) (*http.Response, error) { r.Header.Add("Authorization", "Bearer: "+accessToken) return mrt.r.RoundTrip(r) } func main() { client := &http.Client{ Timeout: time.Second * 10, Transport: MyRoundTripper{r: http.DefaultTransport}, } fmt.Println(client.Get("http://google.com/")) }</div></li><li class=space-y-2><h3><a href=https://zhujianghan.github.io/zjh-blog/posts/backend/git-%E5%88%9B%E5%BB%BA%E8%BF%9C%E7%A8%8B%E5%88%86%E6%94%AF---%E4%BB%8E%E8%BF%9C%E7%A8%8B%E5%88%86%E6%94%AF%E6%8B%89%E5%8F%96%E6%9C%AC%E5%9C%B0%E4%B8%8D%E5%AD%98%E5%9C%A8%E7%9A%84%E5%88%86%E6%94%AF/ class="text-lg font-bold">git-创建远程分支---从远程分支拉取本地不存在的分支</a></h3><div class="text-sm flex items-center space-x-5"><span class="flex items-center space-x-1"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentcolor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5A2 2 0 003 7v12a2 2 0 002 2z"/></svg><time>2022-04-16</time></span></div><div class="line-clamp-3 md:line-clamp-2 text-sm">原文
新建远程分支 git push origin remote_branch_name:local_branch_name // remote_branch_name 是远程分支的名字 // local_branch_name 是本地分支的名字 git branch -a // 查看所有分支(远程+本地) 删除远程分支 git push origin :remote_branch_name // 或 git push origin --delete remote_branch_name 原文
git fetch git checkout -b local_branch_name origin/remote_branch_name</div></li><li class=space-y-2><h3><a href=https://zhujianghan.github.io/zjh-blog/posts/other/git-clone-%E5%87%BA%E9%94%99--rpc-failed/ class="text-lg font-bold">git-clone-出错--RPC-failed</a></h3><div class="text-sm flex items-center space-x-5"><span class="flex items-center space-x-1"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentcolor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5A2 2 0 003 7v12a2 2 0 002 2z"/></svg><time>2022-04-16</time></span></div><div class="line-clamp-3 md:line-clamp-2 text-sm">转载自: https://blog.csdn.net/qq_34121797/article/details/79561110
一、问题原因及现象 在网络情况不稳定下克隆项目时，可能会出现如下错误： ![图片.png](https://upload-images.jianshu.io/upload_images/4073481-97a355f036ab54a1.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240) 出现此问题原因 http缓存不够或者网络不稳定等。 二、解决方案 修改git配置：
1、查看当前配置命令 git config -l
2、httpBuffer加大 git config &ndash;global http.postBuffer 524288000
3、压缩配置 git config &ndash;global core.compression -1
4、修改配置文件(可选) export GIT_TRACE_PACKET=1
export GIT_TRACE=1
export GIT_CURL_VERBOSE=1 以上配置文件修改，也可以大幅度提升git 克隆速度</div></li><li class=space-y-2><h3><a href=https://zhujianghan.github.io/zjh-blog/posts/backend/foreach-%E4%B8%AD%E4%BD%BF%E7%94%A8-%E5%9C%B0%E5%9D%80%E7%AC%A6%E6%97%B6-%E6%9C%80%E5%90%8E%E8%A6%81%E9%87%8A%E6%94%BE-value/ class="text-lg font-bold">foreach-中使用-&地址符时,-最后要释放-value</a></h3><div class="text-sm flex items-center space-x-5"><span class="flex items-center space-x-1"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentcolor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5A2 2 0 003 7v12a2 2 0 002 2z"/></svg><time>2022-04-16</time></span><ul class="flex items-center space-x-2"><li class="px-1 py-0.5 rounded text-white bg-emerald-500"><a href=https://zhujianghan.github.io/zjh-blog/tags/php>php</a></li></ul></div><div class="line-clamp-3 md:line-clamp-2 text-sm">$arr = [1,2,3]; foreach($arr as $key=> &$value){ if ($key){ $value = $value +1; } } unset($value); // 要注意翻译 $value, 否则后面如果还要用到 $value 时, 会指向 $arr 的最后一个元素</div></li><li class=space-y-2><h3><a href=https://zhujianghan.github.io/zjh-blog/posts/backend/dingo-api-%E8%BF%94%E5%9B%9E-response--array--setstatuscode/ class="text-lg font-bold">dingo-api-返回-response--array()--setStatusCode()</a></h3><div class="text-sm flex items-center space-x-5"><span class="flex items-center space-x-1"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentcolor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5A2 2 0 003 7v12a2 2 0 002 2z"/></svg><time>2022-04-16</time></span></div><div class="line-clamp-3 md:line-clamp-2 text-sm">phpstorm 对 $this->response->item(***)->setStatusCode(***) 中的 item() 和 setStatusCode() 都有提示,
找了下 Dingo\Api\Routing\Helpers trait类 中的 __call() 方法
public function __call($method, $parameters) { if (method_exists($this->response(), $method) || $method == 'array') { return call_user_func_array([$this->response(), $method], $parameters); } throw new ErrorException('Undefined method '.get_class($this).'::'.$method); } 意为调用 $this->response() 类( Factory类)的 $method (也就是 array() 方法), 并将 $parameters 作为参数 也就是 Factory 类的 array() 方法, 没想到 在 Factory 类中, array() 方法也是通过 __call() 魔术方法调用的&mldr;
另: call_user_func_array() 方法: 调用回调函数，并把一个数组参数作为回调函数的参数
如果调用的方法是一个类方法, 那么用 数组将 类名和方法名 组合起来 [$this->response(), $method] 表示回调方法</div></li><li class=space-y-2><h3><a href=https://zhujianghan.github.io/zjh-blog/posts/server/apache%E6%B7%BB%E5%8A%A0php%E6%A8%A1%E5%9D%97%E6%97%B6cannot-load--dll%E5%87%BA%E9%94%99/ class="text-lg font-bold">apache添加php模块时cannot-load--dll出错</a></h3><div class="text-sm flex items-center space-x-5"><span class="flex items-center space-x-1"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentcolor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5A2 2 0 003 7v12a2 2 0 002 2z"/></svg><time>2022-04-16</time></span></div><div class="line-clamp-3 md:line-clamp-2 text-sm">C:\Users\Administrator>httpd.exe -k start httpd.exe: Syntax error on line 185 of C:/tnwamp/Apache24/conf/httpd.conf: Canno t load C:/tnwamp/php5.6.31/php5apache2_4.dll into server: \xd5\xd2\xb2\xbb\xb5\x bd\xd6\xb8\xb6\xa8\xb5\xc4\xc4\xa3\xbf\xe9\xa1\xa3
原因可能是缺失 mvcr100.dll, 可以通过双击打开 php.exe文件查看是否如此, 如果提示缺失 mvcr100.dll, 那么上 https://www.microsoft.com/zh-cn/download/confirmation.aspx?id=30679 下载一个 vcredist_x86.exe 即可( 这是是32位的 )</div></li><li class=space-y-2><h3><a href=https://zhujianghan.github.io/zjh-blog/posts/server/apache_%E9%80%9A%E5%B8%B8%E6%AF%8F%E4%B8%AA%E5%A5%97%E6%8E%A5%E5%AD%97%E5%8F%AA%E5%85%81%E8%AE%B8%E4%BD%BF%E7%94%A8%E4%B8%80%E6%AC%A1_%E9%94%99%E8%AF%AF/ class="text-lg font-bold">apache_通常每个套接字只允许使用一次_错误</a></h3><div class="text-sm flex items-center space-x-5"><span class="flex items-center space-x-1"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentcolor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5A2 2 0 003 7v12a2 2 0 002 2z"/></svg><time>2022-04-16</time></span></div><div class="line-clamp-3 md:line-clamp-2 text-sm">安装了apache2.4.27, 在cmd中启动apache服务( httpd.exe -k start )的时候却提示：通常每个套接字只允许使用一次.
原因可能是系统默认 httpd.exe 服务自动开启, 可以先关闭该服务( httpd.exe -k stop ), 再重新开启; 然后在 计算机-( 右键 ) -管理-服务 中关闭apache服务的自动启动</div></li><li class=space-y-2><h3><a href=https://zhujianghan.github.io/zjh-blog/posts/server/acme-sh-%E8%87%AA%E5%8A%A8%E7%94%B3%E8%AF%B7-ssl-%E8%AF%81%E4%B9%A6/ class="text-lg font-bold">acme-sh-自动申请-ssl-证书</a></h3><div class="text-sm flex items-center space-x-5"><span class="flex items-center space-x-1"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentcolor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5A2 2 0 003 7v12a2 2 0 002 2z"/></svg><time>2022-04-16</time></span><ul class="flex items-center space-x-2"><li class="px-1 py-0.5 rounded text-white bg-emerald-500"><a href=https://zhujianghan.github.io/zjh-blog/tags/linux>linux</a></li></ul></div><div class="line-clamp-3 md:line-clamp-2 text-sm">/root/.acme.sh/acme.sh --install-cert --nginx /usr/local/nginx/conf/vhost/my.domain.conf -d my.domain.com \ --key-file /usr/local/nginx/ssl/my.domain.com/key.pem \ --fullchain-file /usr/local/nginx/ssl/my.domain.com/cert.pem \ --reloadcmd "supervisorctl restart nginx" 上面的 &ndash;nginx 指定配置文件路径 参考: https://github.com/acmesh-official/acme.sh/wiki/%E8%AF%B4%E6%98%8E
1. 生成证书, 检测域名所有权 acme.sh --issue -d www.aaa.com --webroot /www/wwwroot/www.aaa.com #或 acme.sh --issue -d www.aaa.com --nginx /usr/local/nginx/conf/sites-enabled/www.aaa.com.conf # 注意: 在 issue 阶段不要在 conf 中设置 listen 443 及 ssl 相关配置, 否则在没有正确的 cert&key 文件时会有报错 # 应在 issue 执行后, 再在 conf 文件中添加 ssl 相关配置 2. 配置 nginx 文件路径 ssl_certificate /usr/local/nginx/ssl/www.aaa.com/cert.pem; ssl_certificate_key /usr/local/nginx/ssl/www.aaa.com/key.pem; 3.</div></li><li class=space-y-2><h3><a href=https://zhujianghan.github.io/zjh-blog/posts/other/2020-09-16/ class="text-lg font-bold">2020-09-16</a></h3><div class="text-sm flex items-center space-x-5"><span class="flex items-center space-x-1"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentcolor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5A2 2 0 003 7v12a2 2 0 002 2z"/></svg><time>2022-04-16</time></span><ul class="flex items-center space-x-2"><li class="px-1 py-0.5 rounded text-white bg-emerald-500"><a href=https://zhujianghan.github.io/zjh-blog/tags/%E7%AE%97%E6%B3%95>算法</a></li></ul></div><div class="line-clamp-3 md:line-clamp-2 text-sm"></div></li><li class=space-y-2><h3><a href=https://zhujianghan.github.io/zjh-blog/posts/other/02-%E7%BA%BF%E6%80%A7%E8%A1%A8/ class="text-lg font-bold">02-线性表</a></h3><div class="text-sm flex items-center space-x-5"><span class="flex items-center space-x-1"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentcolor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5A2 2 0 003 7v12a2 2 0 002 2z"/></svg><time>2022-04-16</time></span><ul class="flex items-center space-x-2"><li class="px-1 py-0.5 rounded text-white bg-emerald-500"><a href=https://zhujianghan.github.io/zjh-blog/tags/%E7%AE%97%E6%B3%95>算法</a></li></ul></div><div class="line-clamp-3 md:line-clamp-2 text-sm">Chrome 插件使用说明 打开 Google Chrome 浏览器
地址栏输入 &ldquo;chrome://extensions&rdquo; 打开扩展程序页面
点击「加载已解压的扩展程序」加载扩展程序
enable 该扩展程序 打开对应网站即可使用</div></li><li class=space-y-2><h3><a href=https://zhujianghan.github.io/zjh-blog/posts/backend/_env--getenv/ class="text-lg font-bold">$_ENV-&-getenv()</a></h3><div class="text-sm flex items-center space-x-5"><span class="flex items-center space-x-1"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentcolor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5A2 2 0 003 7v12a2 2 0 002 2z"/></svg><time>2022-04-16</time></span><ul class="flex items-center space-x-2"><li class="px-1 py-0.5 rounded text-white bg-emerald-500"><a href=https://zhujianghan.github.io/zjh-blog/tags/php>php</a></li></ul></div><div class="line-clamp-3 md:line-clamp-2 text-sm">php 中 $_ENV & getenv() 获取的是环境变量, 如 windows 中 高级系统设置中的环境变量 或 linux 中 export 设置
getenv() 或 $_ENV 获取的是(系统)环境变量, 而不是 .env 文件.
在默认variables_order = "GPCS" 时, laravel 中使用 $_ENV 不能获取到(系统)环境变量, 但是可以获取到 .env 中的变量, 是因为 laravel 在初始化时使用 phpdotenv 将 .env 中的值添加到 $_ENV 中了.
另外 laravel 中 getenv() 本来就可以获取到(系统)环境变量, 也可以获取到 .env 文件中的设置的环境变量, 是因为 laravel(phpdotenv) 用 putenv() 设置了请求期间内有效的环境变量.
ini_set() 配置可修改范围 参考php手册 laravel 初始化 dotenv 参考文章 Laravel ENV—— 环境变量的加载与源码解析</div></li><li class=space-y-2><h3><a href=https://zhujianghan.github.io/zjh-blog/posts/other/jetbrains-ctrl+wheel-%E5%AE%9E%E7%8E%B0-zoom/ class="text-lg font-bold">jetbrains-ctrl+wheel-实现-zoom</a></h3><div class="text-sm flex items-center space-x-5"><span class="flex items-center space-x-1"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentcolor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5A2 2 0 003 7v12a2 2 0 002 2z"/></svg><time>2022-04-14</time></span></div><div class="line-clamp-3 md:line-clamp-2 text-sm">参考: https://intellij-support.jetbrains.com/hc/en-us/community/posts/207002965-Font-Size-Zoom-In-Webstorm-10</div></li><li class=space-y-2><h3><a href=https://zhujianghan.github.io/zjh-blog/posts/backend/go-%E8%87%AA%E5%AE%9A%E4%B9%89-struct-%E8%BD%AC-json/ class="text-lg font-bold">go-自定义-struct-转-json</a></h3><div class="text-sm flex items-center space-x-5"><span class="flex items-center space-x-1"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentcolor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5A2 2 0 003 7v12a2 2 0 002 2z"/></svg><time>2022-04-14</time></span><ul class="flex items-center space-x-2"><li class="px-1 py-0.5 rounded text-white bg-emerald-500"><a href=https://zhujianghan.github.io/zjh-blog/tags/go>go</a></li></ul></div><div class="line-clamp-3 md:line-clamp-2 text-sm">需求: 从 api 获取到 json, 本地 unmarshal 为 struct 后, 以另外的 json tag marhsal 为 json 字符串 type Student struct { Name string `json:"name"` Age int `json:"age"` } strIn := `{ "stu_name": "Jim Green", "age": 14 }` // to json strOut := `{ "name": "Jim Green", "age": 14 }` 使用到的方法 UmarshalJOSN / MarshalJSON
方法一: 通过中间 struct 变量的匿名嵌套 struct embedding (注意防止无限循环使用 alias) package main import ( "encoding/json" "fmt" ) type Student struct { Name string `json:"name"` Age int `json:"age"` } func (s *Student) UnmarshalJSON(data []byte) error { type Alias Student aux := &struct { *Alias StuName string `json:"stu_name"` }{ Alias: (*Alias)(s), } if err := json.</div></li><li class=space-y-2><h3><a href=https://zhujianghan.github.io/zjh-blog/posts/server/linux-%E4%B8%89%E5%91%BD%E4%BB%A4%E4%B8%89%E5%89%91%E5%AE%A2%E4%B9%8B-sed/ class="text-lg font-bold">linux-三命令(三剑客)之-sed</a></h3><div class="text-sm flex items-center space-x-5"><span class="flex items-center space-x-1"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentcolor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5A2 2 0 003 7v12a2 2 0 002 2z"/></svg><time>2022-04-06</time></span><ul class="flex items-center space-x-2"><li class="px-1 py-0.5 rounded text-white bg-emerald-500"><a href=https://zhujianghan.github.io/zjh-blog/tags/linux>linux</a></li></ul></div><div class="line-clamp-3 md:line-clamp-2 text-sm">使用 sed 对文件进行文本替换 (windows 下也可用)
// 输出替换后的文本 sed 's/foo/bar/g' input.txt // 在原文件上进行修改 -i sed -i 's/foo/bar/g' input.txt // 要替换的文本中包含特殊字符 如 '/ ', 则使用 +/_或其它字符 作为分隔符 sed 's+http://+https://+g' input.txt 参考自: www.cyberciti.biz</div></li><li class=space-y-2><h3><a href=https://zhujianghan.github.io/zjh-blog/posts/other/vscode-%E4%B8%AD%E5%8F%8C%E5%87%BB%E5%8D%95%E8%AF%8D%E9%80%89%E6%8B%A9%E4%B8%8D%E8%A2%AB-%E7%9F%AD%E6%A8%AA%E7%BA%BF-%E5%88%86%E5%BC%80/ class="text-lg font-bold">vscode-中双击单词选择不被-短横线-分开</a></h3><div class="text-sm flex items-center space-x-5"><span class="flex items-center space-x-1"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentcolor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5A2 2 0 003 7v12a2 2 0 002 2z"/></svg><time>2022-03-31</time></span></div><div class="line-clamp-3 md:line-clamp-2 text-sm">// 执行文字相关的导航或操作时将用作文字分隔符的字符
"editor.wordSeparators": "`~!@#$%^&*()-=+[{]}\\|;:'\",.&lt;>/?", 参考: segmentfault</div></li><li class=space-y-2><h3><a href=https://zhujianghan.github.io/zjh-blog/posts/backend/go-%E5%88%A4%E6%96%AD-https-ssl-%E8%AF%81%E4%B9%A6%E6%98%AF%E5%90%A6%E8%BF%87%E6%9C%9F/ class="text-lg font-bold">go-判断-https-ssl-证书是否过期</a></h3><div class="text-sm flex items-center space-x-5"><span class="flex items-center space-x-1"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentcolor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5A2 2 0 003 7v12a2 2 0 002 2z"/></svg><time>2022-03-25</time></span><ul class="flex items-center space-x-2"><li class="px-1 py-0.5 rounded text-white bg-emerald-500"><a href=https://zhujianghan.github.io/zjh-blog/tags/go>go</a></li></ul></div><div class="line-clamp-3 md:line-clamp-2 text-sm">package main import ( "crypto/tls" "fmt" "time" ) func main() { conn, err := tls.Dial("tcp", "blog.umesh.wtf:443", nil) if err != nil { panic("Server doesn't support SSL certificate err: " + err.Error()) } err = conn.VerifyHostname("blog.umesh.wtf") if err != nil { panic("Hostname doesn't match with certificate: " + err.Error()) } expiry := conn.ConnectionState().PeerCertificates[0].NotAfter fmt.Printf("Issuer: %s\nExpiry: %v\n", conn.ConnectionState().PeerCertificates[0].Issuer, expiry.Format(time.RFC850)) } 参考自 freecodecamp</div></li><li class=space-y-2><h3><a href=https://zhujianghan.github.io/zjh-blog/posts/backend/php-%E8%BF%9B%E7%A8%8B%E7%BA%BF%E7%A8%8B/ class="text-lg font-bold">php-进程线程</a></h3><div class="text-sm flex items-center space-x-5"><span class="flex items-center space-x-1"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentcolor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5A2 2 0 003 7v12a2 2 0 002 2z"/></svg><time>2022-02-24</time></span><ul class="flex items-center space-x-2"><li class="px-1 py-0.5 rounded text-white bg-emerald-500"><a href=https://zhujianghan.github.io/zjh-blog/tags/php>php</a></li></ul></div><div class="line-clamp-3 md:line-clamp-2 text-sm">进程与线程的概念:
进程是 一个时间段: CPU 上下文切换之间的程序运行时 线程是进程之中的多个程序段的运行时, 线程共享进程的地址空间 (知乎: 线程和进程的区别是什么？)[https://www.zhihu.com/question/25532384]
php-fpm 是进程, 每个请求是单线程的 多个请求是并发(多线程)的</div></li><li class=space-y-2><h3><a href=https://zhujianghan.github.io/zjh-blog/posts/backend/duck-type-%E9%B8%AD%E5%AD%90%E7%B1%BB%E5%9E%8B/ class="text-lg font-bold">Duck-Type-鸭子类型</a></h3><div class="text-sm flex items-center space-x-5"><span class="flex items-center space-x-1"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentcolor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5A2 2 0 003 7v12a2 2 0 002 2z"/></svg><time>2022-02-23</time></span><ul class="flex items-center space-x-2"><li class="px-1 py-0.5 rounded text-white bg-emerald-500"><a href=https://zhujianghan.github.io/zjh-blog/tags/php>php</a></li></ul></div><div class="line-clamp-3 md:line-clamp-2 text-sm">Duck Typing is a [type system] used in dynamic languages. For example, Python, Perl, Ruby, PHP, Javascript, etc. where the type or the class of an object is less important than the method it defines. Using Duck Typing, we do not check types at all. Instead, we check for the presence of a given method or attribute.
reference: geeksforgeeks
按上述来说, 鸭子类型是动态语言的特性, 在动态语言中, 类型并不重要, 重要的是类型(实例)的方法</div></li><li class=space-y-2><h3><a href=https://zhujianghan.github.io/zjh-blog/posts/server/linux-%E4%B8%8B-ax210ngw-%E6%97%A0%E7%BA%BF%E7%BD%91%E5%8D%A1%E5%AE%89%E8%A3%85%E9%A9%B1%E5%8A%A8/ class="text-lg font-bold">Linux-下-AX210NGW-无线网卡安装驱动</a></h3><div class="text-sm flex items-center space-x-5"><span class="flex items-center space-x-1"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentcolor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5A2 2 0 003 7v12a2 2 0 002 2z"/></svg><time>2022-02-10</time></span><ul class="flex items-center space-x-2"><li class="px-1 py-0.5 rounded text-white bg-emerald-500"><a href=https://zhujianghan.github.io/zjh-blog/tags/linux>linux</a></li></ul></div><div class="line-clamp-3 md:line-clamp-2 text-sm">参考: Linux* Support for Intel® Wireless Adapters
参考: https://wireless.wiki.kernel.org/en/users/drivers/iwlwifi 参考: https://www.intel.com/content/www/us/en/support/articles/000005511/wireless.html</div></li><li class=space-y-2><h3><a href=https://zhujianghan.github.io/zjh-blog/posts/frontend/html-%E6%89%93%E5%8D%B0%E6%98%BE%E7%A4%BA%E9%A1%B5%E7%9C%89%E9%A1%B5%E8%84%9A%E5%8F%8A%E8%A1%A8%E6%A0%BC%E4%B8%80%E8%A1%8C%E8%A2%AB%E5%88%86%E5%88%B0%E4%B8%A4%E9%A1%B5%E7%9A%84%E9%97%AE%E9%A2%98/ class="text-lg font-bold">html-打印显示页眉页脚及表格一行被分到两页的问题</a></h3><div class="text-sm flex items-center space-x-5"><span class="flex items-center space-x-1"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentcolor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5A2 2 0 003 7v12a2 2 0 002 2z"/></svg><time>2022-01-19</time></span></div><div class="line-clamp-3 md:line-clamp-2 text-sm">1. 每页表头问题 参考: The Ultimate Print HTML Template with Header & Footer | by Idan Cohen | Medium
使用 table 中的 thead 会在每页打印其中的内容, 而不需要打印页眉页脚的页面(头2页, 3页等), 继续使用 div static 布局
2. table row 被分到两页的问题 对 tr 使用 break-inside-avoid, break-after-auto 参考: How to Handle Page Breaks when Printing a Large HTML Table</div></li><li class=space-y-2><h3><a href=https://zhujianghan.github.io/zjh-blog/posts/backend/%E5%88%A0%E9%99%A4%E6%96%87%E4%BB%B6%E5%A4%B9%E4%B8%AD%E7%9A%84node_modules%E5%AD%90%E6%96%87%E4%BB%B6%E5%A4%B9/ class="text-lg font-bold">删除文件夹中的node_modules子文件夹</a></h3><div class="text-sm flex items-center space-x-5"><span class="flex items-center space-x-1"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentcolor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5A2 2 0 003 7v12a2 2 0 002 2z"/></svg><time>2021-09-18</time></span><ul class="flex items-center space-x-2"><li class="px-1 py-0.5 rounded text-white bg-emerald-500"><a href=https://zhujianghan.github.io/zjh-blog/tags/go>go</a></li></ul></div><div class="line-clamp-3 md:line-clamp-2 text-sm">package main import ( "fmt" "io" "io/fs" "os" "path" "path/filepath" ) func main() { if len(os.Args) == 1 { panic("Enter a file name") } src := os.Args[1] var pathList []string err := filepath.Walk(src, func(path string, info fs.FileInfo, err error) error { if err != nil { return err } if info.IsDir() && info.Name() == "node_modules" { return filepath.SkipDir } if info.IsDir() { return nil } path = filepath.ToSlash(path) pathList = append(pathList, path) return nil }) if err !</div></li><li class=space-y-2><h3><a href=https://zhujianghan.github.io/zjh-blog/posts/backend/centos-%E9%83%A8%E7%BD%B2-go-web/ class="text-lg font-bold">centos-部署-go-web</a></h3><div class="text-sm flex items-center space-x-5"><span class="flex items-center space-x-1"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentcolor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5A2 2 0 003 7v12a2 2 0 002 2z"/></svg><time>2021-09-17</time></span><ul class="flex items-center space-x-2"><li class="px-1 py-0.5 rounded text-white bg-emerald-500"><a href=https://zhujianghan.github.io/zjh-blog/tags/go>go</a></li></ul></div><div class="line-clamp-3 md:line-clamp-2 text-sm">编译后的文件上传至服务器, 有两个事情要做, 一是把 web 应用做成守护进程启动, 二是端口开放
使用纯净 centos7 环境(justhost.ru vps, 非阿里云环境)
1. 防火墙开放端口 1.1 查看防火墙状态
firewall-cmd --state # running 1.2 如果没有开启, 启动防火墙
systemctl start firewalld.service 1.3 开放 8080 端口
firewall-cmd --zone=public --add-port=8080/tcp --permanent # 开放多个端口 firewall-cmd --add-port=8081-8100/tcp --permanent 1.4 重启防火墙
systemctl restart firewall.service 1.5 重载配置
firewall-cmd --reload 1.6 查看端口开启情况
netstat -nltp # 或者使用 firewall-cmd 查看 # 查看所有 firewall-cmd --list-all # 查看指定 firewall-cmd --query-port=8080/tcp 1.7 移除端口
firewall-cmd --remove-port=8080/tcp --permanent 2. supervisord 守护进程 2.</div></li><li class=space-y-2><h3><a href=https://zhujianghan.github.io/zjh-blog/posts/backend/%E4%B8%8D%E4%BD%BF%E7%94%A8-struct-%E5%AE%9A%E4%B9%89-json-%E5%AD%97%E7%AC%A6%E4%B8%B2/ class="text-lg font-bold">不使用-struct-定义-json-字符串</a></h3><div class="text-sm flex items-center space-x-5"><span class="flex items-center space-x-1"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentcolor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5A2 2 0 003 7v12a2 2 0 002 2z"/></svg><time>2021-09-01</time></span><ul class="flex items-center space-x-2"><li class="px-1 py-0.5 rounded text-white bg-emerald-500"><a href=https://zhujianghan.github.io/zjh-blog/tags/apache>apache</a></li><li class="px-1 py-0.5 rounded text-white bg-emerald-500"><a href=https://zhujianghan.github.io/zjh-blog/tags/%E5%9F%9F%E5%90%8D>域名</a></li></ul></div><div class="line-clamp-3 md:line-clamp-2 text-sm">// 方法一: 生写 string jsonStr := ` "name": "Jack", "age": 25 ` // 方法二: map[string]interface{} jsonMap := map[string]interface{}{ "name": "Jack", "age": 66, } jsonByte, _ = json.Marshal(jsonMap) jsonStr = string(jsonByte) 另外 jsonStr 转 io.Reader r := strings.NewReader(jsonStr)</div></li><li class=space-y-2><h3><a href=https://zhujianghan.github.io/zjh-blog/posts/frontend/%E5%8C%BF%E5%90%8D%E5%87%BD%E6%95%B0%E4%B8%8E%E9%97%AD%E5%8C%85/ class="text-lg font-bold">匿名函数与闭包</a></h3><div class="text-sm flex items-center space-x-5"><span class="flex items-center space-x-1"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentcolor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5A2 2 0 003 7v12a2 2 0 002 2z"/></svg><time>2021-07-27</time></span></div><div class="line-clamp-3 md:line-clamp-2 text-sm">程序语言支持匿名函数时, 可以由匿名函数形成闭包 闭包的作用 在函数外部使用函数内部的变量 函数内部变量的持久化 参考cnblog: 匿名函数，闭包</div></li></ul><ul class="pagination pagination-default"><li class="page-item disabled"><a aria-disabled=true aria-label=First class=page-link role=button tabindex=-1><span aria-hidden=true>&#171;&#171;</span></a></li><li class="page-item disabled"><a aria-disabled=true aria-label=Previous class=page-link role=button tabindex=-1><span aria-hidden=true>&#171;</span></a></li><li class="page-item active"><a aria-current=page aria-label="Page 1" class=page-link role=button>1</a></li><li class=page-item><a href=/zjh-blog/page/2/ aria-label="Page 2" class=page-link role=button>2</a></li><li class=page-item><a href=/zjh-blog/page/3/ aria-label="Page 3" class=page-link role=button>3</a></li><li class=page-item><a href=/zjh-blog/page/2/ aria-label=Next class=page-link role=button><span aria-hidden=true>&#187;</span></a></li><li class=page-item><a href=/zjh-blog/page/3/ aria-label=Last class=page-link role=button><span aria-hidden=true>&#187;&#187;</span></a></li></ul></div><div class="hidden md:block md:w-1/4"><div class="p-4 border-l rounded space-y-10"><div><div class=font-bold>Recent Posts</div><ul class="pl-2 space-y-2"><li><a href=https://zhujianghan.github.io/zjh-blog/posts/server/centos%E7%A3%81%E7%9B%98%E6%9F%A5%E7%9C%8B/ class="text-sm line-clamp-1" title=Centos磁盘查看>Centos磁盘查看</a></li><li><a href=https://zhujianghan.github.io/zjh-blog/posts/server/fix-failed-to-verify-certificate-x509/ class="text-sm line-clamp-1" title="Fix Failed to Verify Certificate X509">Fix Failed to Verify Certificate X509</a></li><li><a href=https://zhujianghan.github.io/zjh-blog/posts/frontend/line-breaks-for-strings-on-canvas/ class="text-sm line-clamp-1" title="Line Breaks for Strings on Canvas">Line Breaks for Strings on Canvas</a></li><li><a href=https://zhujianghan.github.io/zjh-blog/posts/backend/go-file-server/ class="text-sm line-clamp-1" title="Go File Server">Go File Server</a></li><li><a href=https://zhujianghan.github.io/zjh-blog/posts/server/upgrade-nodejs-by-yum-on-centos/ class="text-sm line-clamp-1" title="Upgrade Nodejs by Yum on Centos">Upgrade Nodejs by Yum on Centos</a></li></ul></div><div><div class=font-bold>Tags</div><ul class=pl-2><li class="inline-block mt-3 mr-2"><a href=https://zhujianghan.github.io/zjh-blog/tags/apache/ class="px-2 py-1 rounded bg-slate-200 dark:bg-slate-600"><span class=text-sm>apache</span>
<span class="px-2 text-xs rounded-full text-slate-100 bg-emerald-500">4</span></a></li><li class="inline-block mt-3 mr-2"><a href=https://zhujianghan.github.io/zjh-blog/tags/benchmark/ class="px-2 py-1 rounded bg-slate-200 dark:bg-slate-600"><span class=text-sm>benchmark</span>
<span class="px-2 text-xs rounded-full text-slate-100 bg-emerald-500">1</span></a></li><li class="inline-block mt-3 mr-2"><a href=https://zhujianghan.github.io/zjh-blog/tags/c/ class="px-2 py-1 rounded bg-slate-200 dark:bg-slate-600"><span class=text-sm>c</span>
<span class="px-2 text-xs rounded-full text-slate-100 bg-emerald-500">1</span></a></li><li class="inline-block mt-3 mr-2"><a href=https://zhujianghan.github.io/zjh-blog/tags/canvas/ class="px-2 py-1 rounded bg-slate-200 dark:bg-slate-600"><span class=text-sm>canvas</span>
<span class="px-2 text-xs rounded-full text-slate-100 bg-emerald-500">1</span></a></li><li class="inline-block mt-3 mr-2"><a href=https://zhujianghan.github.io/zjh-blog/tags/centos/ class="px-2 py-1 rounded bg-slate-200 dark:bg-slate-600"><span class=text-sm>centos</span>
<span class="px-2 text-xs rounded-full text-slate-100 bg-emerald-500">2</span></a></li><li class="inline-block mt-3 mr-2"><a href=https://zhujianghan.github.io/zjh-blog/tags/channel/ class="px-2 py-1 rounded bg-slate-200 dark:bg-slate-600"><span class=text-sm>channel</span>
<span class="px-2 text-xs rounded-full text-slate-100 bg-emerald-500">1</span></a></li><li class="inline-block mt-3 mr-2"><a href=https://zhujianghan.github.io/zjh-blog/tags/crontab/ class="px-2 py-1 rounded bg-slate-200 dark:bg-slate-600"><span class=text-sm>crontab</span>
<span class="px-2 text-xs rounded-full text-slate-100 bg-emerald-500">1</span></a></li><li class="inline-block mt-3 mr-2"><a href=https://zhujianghan.github.io/zjh-blog/tags/docker/ class="px-2 py-1 rounded bg-slate-200 dark:bg-slate-600"><span class=text-sm>docker</span>
<span class="px-2 text-xs rounded-full text-slate-100 bg-emerald-500">2</span></a></li><li class="inline-block mt-3 mr-2"><a href=https://zhujianghan.github.io/zjh-blog/tags/gin/ class="px-2 py-1 rounded bg-slate-200 dark:bg-slate-600"><span class=text-sm>gin</span>
<span class="px-2 text-xs rounded-full text-slate-100 bg-emerald-500">1</span></a></li><li class="inline-block mt-3 mr-2"><a href=https://zhujianghan.github.io/zjh-blog/tags/github/ class="px-2 py-1 rounded bg-slate-200 dark:bg-slate-600"><span class=text-sm>github</span>
<span class="px-2 text-xs rounded-full text-slate-100 bg-emerald-500">1</span></a></li><li class="inline-block mt-3 mr-2"><a href=https://zhujianghan.github.io/zjh-blog/tags/go/ class="px-2 py-1 rounded bg-slate-200 dark:bg-slate-600"><span class=text-sm>go</span>
<span class="px-2 text-xs rounded-full text-slate-100 bg-emerald-500">26</span></a></li><li class="inline-block mt-3 mr-2"><a href=https://zhujianghan.github.io/zjh-blog/tags/goroutine/ class="px-2 py-1 rounded bg-slate-200 dark:bg-slate-600"><span class=text-sm>goroutine</span>
<span class="px-2 text-xs rounded-full text-slate-100 bg-emerald-500">1</span></a></li><li class="inline-block mt-3 mr-2"><a href=https://zhujianghan.github.io/zjh-blog/tags/http/ class="px-2 py-1 rounded bg-slate-200 dark:bg-slate-600"><span class=text-sm>http</span>
<span class="px-2 text-xs rounded-full text-slate-100 bg-emerald-500">1</span></a></li><li class="inline-block mt-3 mr-2"><a href=https://zhujianghan.github.io/zjh-blog/tags/https/ class="px-2 py-1 rounded bg-slate-200 dark:bg-slate-600"><span class=text-sm>https</span>
<span class="px-2 text-xs rounded-full text-slate-100 bg-emerald-500">1</span></a></li><li class="inline-block mt-3 mr-2"><a href=https://zhujianghan.github.io/zjh-blog/tags/jetbrains/ class="px-2 py-1 rounded bg-slate-200 dark:bg-slate-600"><span class=text-sm>jetbrains</span>
<span class="px-2 text-xs rounded-full text-slate-100 bg-emerald-500">1</span></a></li><li class="inline-block mt-3 mr-2"><a href=https://zhujianghan.github.io/zjh-blog/tags/jquery/ class="px-2 py-1 rounded bg-slate-200 dark:bg-slate-600"><span class=text-sm>jquery</span>
<span class="px-2 text-xs rounded-full text-slate-100 bg-emerald-500">1</span></a></li><li class="inline-block mt-3 mr-2"><a href=https://zhujianghan.github.io/zjh-blog/tags/js/ class="px-2 py-1 rounded bg-slate-200 dark:bg-slate-600"><span class=text-sm>js</span>
<span class="px-2 text-xs rounded-full text-slate-100 bg-emerald-500">1</span></a></li><li class="inline-block mt-3 mr-2"><a href=https://zhujianghan.github.io/zjh-blog/tags/linux/ class="px-2 py-1 rounded bg-slate-200 dark:bg-slate-600"><span class=text-sm>linux</span>
<span class="px-2 text-xs rounded-full text-slate-100 bg-emerald-500">18</span></a></li><li class="inline-block mt-3 mr-2"><a href=https://zhujianghan.github.io/zjh-blog/tags/mermaid/ class="px-2 py-1 rounded bg-slate-200 dark:bg-slate-600"><span class=text-sm>mermaid</span>
<span class="px-2 text-xs rounded-full text-slate-100 bg-emerald-500">1</span></a></li><li class="inline-block mt-3 mr-2"><a href=https://zhujianghan.github.io/zjh-blog/tags/mysql/ class="px-2 py-1 rounded bg-slate-200 dark:bg-slate-600"><span class=text-sm>mysql</span>
<span class="px-2 text-xs rounded-full text-slate-100 bg-emerald-500">9</span></a></li><li class="inline-block mt-3 mr-2"><a href=https://zhujianghan.github.io/zjh-blog/tags/nginx/ class="px-2 py-1 rounded bg-slate-200 dark:bg-slate-600"><span class=text-sm>nginx</span>
<span class="px-2 text-xs rounded-full text-slate-100 bg-emerald-500">2</span></a></li><li class="inline-block mt-3 mr-2"><a href=https://zhujianghan.github.io/zjh-blog/tags/node/ class="px-2 py-1 rounded bg-slate-200 dark:bg-slate-600"><span class=text-sm>node</span>
<span class="px-2 text-xs rounded-full text-slate-100 bg-emerald-500">1</span></a></li><li class="inline-block mt-3 mr-2"><a href=https://zhujianghan.github.io/zjh-blog/tags/php/ class="px-2 py-1 rounded bg-slate-200 dark:bg-slate-600"><span class=text-sm>php</span>
<span class="px-2 text-xs rounded-full text-slate-100 bg-emerald-500">43</span></a></li><li class="inline-block mt-3 mr-2"><a href=https://zhujianghan.github.io/zjh-blog/tags/react/ class="px-2 py-1 rounded bg-slate-200 dark:bg-slate-600"><span class=text-sm>react</span>
<span class="px-2 text-xs rounded-full text-slate-100 bg-emerald-500">8</span></a></li><li class="inline-block mt-3 mr-2"><a href=https://zhujianghan.github.io/zjh-blog/tags/server/ class="px-2 py-1 rounded bg-slate-200 dark:bg-slate-600"><span class=text-sm>server</span>
<span class="px-2 text-xs rounded-full text-slate-100 bg-emerald-500">1</span></a></li><li class="inline-block mt-3 mr-2"><a href=https://zhujianghan.github.io/zjh-blog/tags/ssh/ class="px-2 py-1 rounded bg-slate-200 dark:bg-slate-600"><span class=text-sm>ssh</span>
<span class="px-2 text-xs rounded-full text-slate-100 bg-emerald-500">1</span></a></li><li class="inline-block mt-3 mr-2"><a href=https://zhujianghan.github.io/zjh-blog/tags/tarojs/ class="px-2 py-1 rounded bg-slate-200 dark:bg-slate-600"><span class=text-sm>tarojs</span>
<span class="px-2 text-xs rounded-full text-slate-100 bg-emerald-500">1</span></a></li><li class="inline-block mt-3 mr-2"><a href=https://zhujianghan.github.io/zjh-blog/tags/tcp/ip/ class="px-2 py-1 rounded bg-slate-200 dark:bg-slate-600"><span class=text-sm>tcp/ip</span>
<span class="px-2 text-xs rounded-full text-slate-100 bg-emerald-500">1</span></a></li><li class="inline-block mt-3 mr-2"><a href=https://zhujianghan.github.io/zjh-blog/tags/unit-test/ class="px-2 py-1 rounded bg-slate-200 dark:bg-slate-600"><span class=text-sm>unit-test</span>
<span class="px-2 text-xs rounded-full text-slate-100 bg-emerald-500">1</span></a></li><li class="inline-block mt-3 mr-2"><a href=https://zhujianghan.github.io/zjh-blog/tags/vmware/ class="px-2 py-1 rounded bg-slate-200 dark:bg-slate-600"><span class=text-sm>vmware</span>
<span class="px-2 text-xs rounded-full text-slate-100 bg-emerald-500">1</span></a></li><li class="inline-block mt-3 mr-2"><a href=https://zhujianghan.github.io/zjh-blog/tags/vscode/ class="px-2 py-1 rounded bg-slate-200 dark:bg-slate-600"><span class=text-sm>vscode</span>
<span class="px-2 text-xs rounded-full text-slate-100 bg-emerald-500">1</span></a></li><li class="inline-block mt-3 mr-2"><a href=https://zhujianghan.github.io/zjh-blog/tags/vue/ class="px-2 py-1 rounded bg-slate-200 dark:bg-slate-600"><span class=text-sm>vue</span>
<span class="px-2 text-xs rounded-full text-slate-100 bg-emerald-500">12</span></a></li><li class="inline-block mt-3 mr-2"><a href=https://zhujianghan.github.io/zjh-blog/tags/yum/ class="px-2 py-1 rounded bg-slate-200 dark:bg-slate-600"><span class=text-sm>yum</span>
<span class="px-2 text-xs rounded-full text-slate-100 bg-emerald-500">1</span></a></li><li class="inline-block mt-3 mr-2"><a href=https://zhujianghan.github.io/zjh-blog/tags/%E5%9F%9F%E5%90%8D/ class="px-2 py-1 rounded bg-slate-200 dark:bg-slate-600"><span class=text-sm>域名</span>
<span class="px-2 text-xs rounded-full text-slate-100 bg-emerald-500">3</span></a></li><li class="inline-block mt-3 mr-2"><a href=https://zhujianghan.github.io/zjh-blog/tags/%E5%AE%89%E5%85%A8/ class="px-2 py-1 rounded bg-slate-200 dark:bg-slate-600"><span class=text-sm>安全</span>
<span class="px-2 text-xs rounded-full text-slate-100 bg-emerald-500">2</span></a></li><li class="inline-block mt-3 mr-2"><a href=https://zhujianghan.github.io/zjh-blog/tags/%E5%BE%AE%E4%BF%A1/ class="px-2 py-1 rounded bg-slate-200 dark:bg-slate-600"><span class=text-sm>微信</span>
<span class="px-2 text-xs rounded-full text-slate-100 bg-emerald-500">3</span></a></li><li class="inline-block mt-3 mr-2"><a href=https://zhujianghan.github.io/zjh-blog/tags/%E7%AE%97%E6%B3%95/ class="px-2 py-1 rounded bg-slate-200 dark:bg-slate-600"><span class=text-sm>算法</span>
<span class="px-2 text-xs rounded-full text-slate-100 bg-emerald-500">3</span></a></li></ul></div></div></div></div></main><div class="container mx-auto xl:max-w-screen-xl px-2 mt-10 border-t">🍀</div><div x-data="{
    show: document.body.scrollTop > 20 || document.documentElement.scrollTop > 20,
    bglg: '',

    handleScroll(){
      this.show = document.body.scrollTop > 20 || document.documentElement.scrollTop > 20
      if (this.show){
        let rate = document.body.scrollTop !== 0 ? document.body.scrollTop/document.body.scrollHeight : document.documentElement.scrollTop/document.documentElement.scrollHeight
        rate = Math.round(rate * 100)
        this.bglg = `linear-gradient(0deg, #10b981, white ${rate}%, white)`
      } else {
        this.bglg = ''
      }
    },

    backToTop(){
      this.show = false
      document.body.scrollTop = 0
      document.documentElement.scrollTop = 0
    },
  }" @scroll.window=handleScroll @click=backToTop><button class="fixed bottom-10 right-5 p-3 rounded-full shadow-md" :style="{background: bglg}" x-show=show><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentcolor"><path fill-rule="evenodd" d="M4.293 15.707a1 1 0 010-1.414l5-5a1 1 0 011.414.0l5 5a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414.0zm0-6a1 1 0 010-1.414l5-5a1 1 0 011.414.0l5 5a1 1 0 01-1.414 1.414L10 5.414 5.707 9.707a1 1 0 01-1.414.0z" clip-rule="evenodd"/></svg></button></div><script src=https://zhujianghan.github.io/zjh-blog/js/docsearch.js></script>
<script>docsearch({container:'#docsearch',appId:"QB1NYV0GE1",apiKey:"87c867dd34150cbfbee6b6e819fb7c5c",indexName:"hugo-tailwind-blog",placeholder:"搜索",resultsFooterComponent({state:e}){return{type:'span',ref:void 0,constructor:void 0,key:e.query,props:{children:`${e.context.nbHits} hits found!`},__v:null}}})</script></div></body></html>