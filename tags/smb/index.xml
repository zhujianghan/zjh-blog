<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>smb on Fourleaf Blog</title><link>https://zhujianghan.github.io/zjh-blog/tags/smb/</link><description>Recent content in smb on Fourleaf Blog</description><generator>Hugo -- gohugo.io</generator><language>zh-cn</language><lastBuildDate>Thu, 28 Aug 2025 14:02:00 +0800</lastBuildDate><atom:link href="https://zhujianghan.github.io/zjh-blog/tags/smb/index.xml" rel="self" type="application/rss+xml"/><item><title>linux 设置 smb</title><link>https://zhujianghan.github.io/zjh-blog/posts/server/linux-smb-service-configuration/</link><pubDate>Thu, 28 Aug 2025 14:02:00 +0800</pubDate><guid>https://zhujianghan.github.io/zjh-blog/posts/server/linux-smb-service-configuration/</guid><description>install sudo apt update sudo apt install samba set share folder # /etc/samba/smb.conf # append below lines [smb_share] path = /data/smb_share comment = parent folder write list = @sambashare valid users = @sambashare writeable = yes add user # first: add linux user # -M: don&amp;#39;t create home directory # -s: set shell (no login) sudo useradd -M -s /sbin/nologin smb_jackma # second: set user to sambashare group sudo usermod -aG sambashare smb_jackma # thire: bind to smb sudo smbpasswd -a smb_jackma (type password) set privilege /data/smb_share: chown 设置 root:root, 子文件夹不允许用户删除 /data/smb_share/foler1: chown 设置 sambashare:sambashare, 所有 smb 用户均可访问、编辑、删除文件; 同时设置 chmod 2770 让新创建的文件(夹)有同样的 group(smabashare) /data/smb_share/folerx: chown 设置 smb_groupx:smb_groupx, 只有当 smb 用户属于 smb_groupx 组时, 才有该文件夹的 wrx 权限 设置单设备登录 使用 max connections 设置的是全部允许连通的设备, 不区分用户账号, 不可用 使用 sudo smbcontrol smbd kill-client-ip xx.</description></item></channel></rss>